
> wealth-tracker@1.4.5 test:coverage
> vitest --coverage --run --reporter=json


<--- Last few GCs --->

[35445:0xaebc00000]    52864 ms: Mark-Compact 4053.6 (4142.9) -> 4046.1 (4143.1) MB, pooled: 0 MB, 586.96 / 0.00 ms  (average mu = 0.157, current mu = 0.052) allocation failure; scavenge might not succeed
[35445:0xaebc00000]    54029 ms: Mark-Compact 4053.4 (4143.9) -> 4047.2 (4144.4) MB, pooled: 0 MB, 1051.17 / 0.00 ms  (average mu = 0.120, current mu = 0.098) allocation failure; GC in old space requested


<--- JS stacktrace --->

FATAL ERROR: Reached heap limit Allocation failed - JavaScript heap out of memory
----- Native stack trace -----

 1: 0x104711cac node::OOMErrorHandler(char const*, v8::OOMDetails const&) [/usr/local/bin/node]
 2: 0x1048e7998 v8::internal::V8::FatalProcessOutOfMemory(v8::internal::Isolate*, char const*, v8::OOMDetails const&) [/usr/local/bin/node]
 3: 0x104af70c0 v8::internal::Heap::stack() [/usr/local/bin/node]
 4: 0x104af5460 v8::internal::Heap::CollectGarbage(v8::internal::AllocationSpace, v8::internal::GarbageCollectionReason, v8::GCCallbackFlags) [/usr/local/bin/node]
 5: 0x104ae9a48 v8::internal::HeapAllocator::AllocateRawWithLightRetrySlowPath(int, v8::internal::AllocationType, v8::internal::AllocationOrigin, v8::internal::AllocationAlignment) [/usr/local/bin/node]
 6: 0x104aea280 v8::internal::HeapAllocator::AllocateRawWithRetryOrFailSlowPath(int, v8::internal::AllocationType, v8::internal::AllocationOrigin, v8::internal::AllocationAlignment) [/usr/local/bin/node]
 7: 0x104acd5a0 v8::internal::Factory::NewFillerObject(int, v8::internal::AllocationAlignment, v8::internal::AllocationType, v8::internal::AllocationOrigin) [/usr/local/bin/node]
 8: 0x104ee9128 v8::internal::Runtime_AllocateInOldGeneration(int, unsigned long*, v8::internal::Isolate*) [/usr/local/bin/node]
 9: 0x1053a9af4 Builtins_CEntry_Return1_ArgvOnStack_NoBuiltinExit [/usr/local/bin/node]
10: 0x10fdceabc 
11: 0x10fda49ec 
12: 0x10fda55ac 
13: 0x10fdddc38 
14: 0x10fd9c9f4 
15: 0x10fd9c578 
16: 0x10fda29a4 
17: 0x10fdada6c 
18: 0x10fda200c 
19: 0x105314ef0 Builtins_InterpreterEntryTrampoline [/usr/local/bin/node]
20: 0x105314ef0 Builtins_InterpreterEntryTrampoline [/usr/local/bin/node]
21: 0x105314ef0 Builtins_InterpreterEntryTrampoline [/usr/local/bin/node]
22: 0x105314ef0 Builtins_InterpreterEntryTrampoline [/usr/local/bin/node]
23: 0x105314ef0 Builtins_InterpreterEntryTrampoline [/usr/local/bin/node]
24: 0x105314ef0 Builtins_InterpreterEntryTrampoline [/usr/local/bin/node]
25: 0x105314ef0 Builtins_InterpreterEntryTrampoline [/usr/local/bin/node]
26: 0x105314ef0 Builtins_InterpreterEntryTrampoline [/usr/local/bin/node]
27: 0x10541a3a0 Builtins_PromiseConstructor [/usr/local/bin/node]
28: 0x105315c78 construct_stub_invoke_deopt_addr [/usr/local/bin/node]
29: 0x10548b4d0 Builtins_ConstructHandler [/usr/local/bin/node]
30: 0x105314ef0 Builtins_InterpreterEntryTrampoline [/usr/local/bin/node]
31: 0x105314ef0 Builtins_InterpreterEntryTrampoline [/usr/local/bin/node]
32: 0x105351290 Builtins_AsyncFunctionAwaitResolveClosure [/usr/local/bin/node]
33: 0x10541c4d8 Builtins_PromiseFulfillReactionJob [/usr/local/bin/node]
34: 0x105341594 Builtins_RunMicrotasks [/usr/local/bin/node]
35: 0x105312af4 Builtins_JSRunMicrotasksEntry [/usr/local/bin/node]
36: 0x104a4ef7c v8::internal::(anonymous namespace)::Invoke(v8::internal::Isolate*, v8::internal::(anonymous namespace)::InvokeParams const&) [/usr/local/bin/node]
37: 0x104a4f824 v8::internal::(anonymous namespace)::InvokeWithTryCatch(v8::internal::Isolate*, v8::internal::(anonymous namespace)::InvokeParams const&) [/usr/local/bin/node]
38: 0x104a4f95c v8::internal::Execution::TryRunMicrotasks(v8::internal::Isolate*, v8::internal::MicrotaskQueue*) [/usr/local/bin/node]
39: 0x104a7cb80 v8::internal::MicrotaskQueue::RunMicrotasks(v8::internal::Isolate*) [/usr/local/bin/node]
40: 0x104a7d304 v8::internal::MicrotaskQueue::PerformCheckpoint(v8::Isolate*) [/usr/local/bin/node]
41: 0x105316f98 Builtins_CallApiCallbackGeneric [/usr/local/bin/node]
42: 0x10fc2c254 
43: 0x105312c0c Builtins_JSEntryTrampoline [/usr/local/bin/node]
44: 0x1053128f4 Builtins_JSEntry [/usr/local/bin/node]
45: 0x104a4efbc v8::internal::(anonymous namespace)::Invoke(v8::internal::Isolate*, v8::internal::(anonymous namespace)::InvokeParams const&) [/usr/local/bin/node]
46: 0x104a4e918 v8::internal::Execution::Call(v8::internal::Isolate*, v8::internal::Handle<v8::internal::Object>, v8::internal::Handle<v8::internal::Object>, int, v8::internal::Handle<v8::internal::Object>*) [/usr/local/bin/node]
47: 0x1048fdf04 v8::Function::Call(v8::Local<v8::Context>, v8::Local<v8::Value>, int, v8::Local<v8::Value>*) [/usr/local/bin/node]
48: 0x104611a80 node::InternalCallbackScope::Close() [/usr/local/bin/node]
49: 0x104611cc4 node::InternalMakeCallback(node::Environment*, v8::Local<v8::Object>, v8::Local<v8::Object>, v8::Local<v8::Function>, int, v8::Local<v8::Value>*, node::async_context, v8::Local<v8::Value>) [/usr/local/bin/node]
50: 0x104627a7c node::AsyncWrap::MakeCallback(v8::Local<v8::Function>, int, v8::Local<v8::Value>*) [/usr/local/bin/node]
51: 0x104826d80 node::StreamBase::CallJSOnreadMethod(long, v8::Local<v8::ArrayBuffer>, unsigned long, node::StreamBase::StreamBaseJSChecks) [/usr/local/bin/node]
52: 0x104828514 node::EmitToJSStreamListener::OnStreamRead(long, uv_buf_t const&) [/usr/local/bin/node]
53: 0x10482c9dc node::LibuvStreamWrap::OnUvRead(long, uv_buf_t const*) [/usr/local/bin/node]
54: 0x10482d124 node::LibuvStreamWrap::ReadStart()::$_1::__invoke(uv_stream_s*, long, uv_buf_t const*) [/usr/local/bin/node]
55: 0x1052fe504 uv__stream_io [/usr/local/bin/node]
56: 0x105306b2c uv__io_poll [/usr/local/bin/node]
57: 0x1052f2edc uv_run [/usr/local/bin/node]
58: 0x1046124f4 node::SpinEventLoopInternal(node::Environment*) [/usr/local/bin/node]
59: 0x10475ce74 node::NodeMainInstance::Run() [/usr/local/bin/node]
60: 0x1046cd008 node::Start(int, char**) [/usr/local/bin/node]
61: 0x184679924 start [/usr/lib/dyld]

⎯⎯⎯⎯ Unhandled Rejection ⎯⎯⎯⎯⎯
Error: Channel closed
 ❯ target.send node:internal/child_process:753:16
 ❯ ProcessWorker.send node_modules/tinypool/dist/index.js:140:41
 ❯ MessagePort.<anonymous> node_modules/tinypool/dist/index.js:149:62
 ❯ [nodejs.internal.kHybridDispatch] node:internal/event_target:827:20
 ❯ MessagePort.<anonymous> node:internal/per_context/messageport:23:28

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯
Serialized Error: { code: 'ERR_IPC_CHANNEL_CLOSED' }



