# Deployment: Vercel (Static Hosting)

This project is deployed to Vercel as a static site. The build output from Vite (`dist/`) is served by Vercel’s static file hosting, and `vercel.json` handles SPA routing and asset cache headers.

## What we deploy
- Static assets generated by `npm run build`
- `vercel.json` for rewrites/headers
- No custom Node server is required

## Commands
- Build locally: `npm run build`
- Deploy: `./deploy.sh` (wraps Vercel CLI) or connect the repo to Vercel

## SPA routing
`vercel.json` rewrites all non-asset paths to `index.html` so that React Router can handle navigation client-side.

## Security headers
Current cache headers for assets are set in `vercel.json`. If you need stricter security headers (CSP, etc.), you can add them via Vercel Middleware or serve them from a custom backend. For a static app, prefer build‑time safety (e.g., avoid inline scripts) and keep external origins limited.

## Webhooks / Backend needs
If you need server-side handlers (e.g., Stripe webhooks), add Vercel Serverless Functions under `api/`.
- Suggested path: `api/stripe-webhook.ts`
- You can adapt logic from `src/lib/stripe-webhooks.ts` and `src/api/stripe-webhook.ts`
- Keep your endpoint URL private in Stripe dashboard and verify signatures

## Removed servers (legacy)
We removed local/Express servers to reduce confusion for Vercel deployments. For local testing of `dist/`, use `vite preview` or `serve-dist.mjs`.

