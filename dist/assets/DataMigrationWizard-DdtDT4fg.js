function e({isOpen:e,onClose:s,onComplete:r}){const[i,l]=t.useState(1),[o,j]=t.useState(null),[f,N]=t.useState([]),[k,v]=t.useState(null),[w,C]=t.useState(!1),[S,z]=t.useState(null),I=t.useCallback(e=>{N(t=>[...t,...e]),z(null)},[]),{getRootProps:D,getInputProps:P,isDragActive:A}=a({onDrop:I,accept:o?u.find(e=>e.id===o)?.fileTypes.reduce((e,t)=>({...e,[".csv"===t?"text/csv":".xlsx"===t||".xls"===t?"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":".qif"===t||".qfx"===t?"application/x-qw":"text/plain"]:[t]}),{}):void 0,maxSize:10485760});return e?n.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-2xl w-full max-w-4xl max-h-[90vh] overflow-hidden",children:[n.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Data Migration Wizard"}),n.jsx("button",{onClick:s,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors","aria-label":"Close wizard",children:n.jsx(c,{size:20})})]}),n.jsx("div",{className:"mt-6 flex items-center justify-between",children:y.map((e,t)=>n.jsxs("div",{className:"flex items-center "+(t<y.length-1?"flex-1":""),children:[n.jsxs("div",{className:"flex flex-col items-center",children:[n.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center transition-colors "+(i>e.id?"bg-green-500 text-white":i===e.id?"bg-blue-500 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-500"),children:i>e.id?n.jsx(g,{size:20}):n.jsx("span",{className:"text-sm font-medium",children:e.id})}),n.jsx("span",{className:"mt-2 text-xs text-gray-600 dark:text-gray-400 hidden sm:block",children:e.title})]}),t<y.length-1&&n.jsx("div",{className:"flex-1 h-0.5 mx-2 transition-colors "+(i>e.id?"bg-green-500":"bg-gray-200 dark:bg-gray-700")})]},e.id))})]}),n.jsxs("div",{className:"p-6 overflow-y-auto",style:{maxHeight:"calc(90vh - 200px)"},children:[S&&n.jsx("div",{className:"mb-4 p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg",children:n.jsxs("div",{className:"flex items-start gap-2",children:[n.jsx(p,{size:20,className:"text-red-600 dark:text-red-400 mt-0.5"}),n.jsx("p",{className:"text-sm text-red-600 dark:text-red-400",children:S})]})}),1===i&&n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"Select Your Data Source"}),n.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"Choose the application or format you're migrating from"}),n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:u.map(e=>{const t=e.icon;return n.jsxs("button",{onClick:()=>j(e.id),className:"p-4 rounded-lg border-2 transition-all "+(o===e.id?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":"border-gray-200 dark:border-gray-700 hover:border-gray-300 dark:hover:border-gray-600"),children:[n.jsx("div",{className:`w-12 h-12 ${e.color} rounded-lg flex items-center justify-center mb-3 mx-auto`,children:n.jsx(t,{size:24,className:"text-white"})}),n.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-1",children:e.name}),n.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:e.description})]},e.id)})})]}),2===i&&o&&n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"Upload Your Data Files"}),n.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:u.find(e=>e.id===o)?.instructions}),n.jsxs("div",{...D(),className:"border-2 border-dashed rounded-lg p-8 text-center cursor-pointer transition-colors "+(A?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":"border-gray-300 dark:border-gray-600 hover:border-gray-400"),children:[n.jsx("input",{...P()}),n.jsx(x,{size:48,className:"mx-auto mb-4 text-gray-400"}),n.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-2",children:A?"Drop the files here...":"Drag & drop files here, or click to select"}),n.jsxs("p",{className:"text-xs text-gray-500",children:["Supported formats: ",u.find(e=>e.id===o)?.fileTypes.join(", ")]})]}),f.length>0&&n.jsxs("div",{className:"mt-4 space-y-2",children:[n.jsxs("h4",{className:"text-sm font-medium text-gray-900 dark:text-white",children:["Uploaded Files (",f.length,")"]}),f.map((e,t)=>n.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(d,{size:20,className:"text-gray-500"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:e.name}),n.jsxs("p",{className:"text-xs text-gray-500",children:[(e.size/1024).toFixed(2)," KB"]})]})]}),n.jsx("button",{onClick:()=>(e=>{N(t=>t.filter((t,a)=>a!==e))})(t),className:"p-1 hover:bg-gray-200 dark:hover:bg-gray-600 rounded","aria-label":"Remove file",children:n.jsx(c,{size:16})})]},t))]})]}),3===i&&n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"Field Mapping"}),n.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"We've automatically mapped your data fields. Review and adjust if needed."}),n.jsx("div",{className:"space-y-4",children:["Date","Description","Amount","Category","Account"].map(e=>n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("label",{className:"w-32 text-sm font-medium text-gray-700 dark:text-gray-300",children:e}),n.jsxs("select",{className:"flex-1 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[n.jsxs("option",{children:["Auto-detected: ",e]}),n.jsx("option",{children:"Column A"}),n.jsx("option",{children:"Column B"}),n.jsx("option",{children:"Column C"}),n.jsx("option",{children:"Skip this field"})]})]},e))}),n.jsx("div",{className:"mt-6 p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:n.jsxs("div",{className:"flex items-start gap-2",children:[n.jsx(h,{size:20,className:"text-blue-600 dark:text-blue-400 mt-0.5"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-blue-900 dark:text-blue-300 mb-1",children:"Smart Mapping Active"}),n.jsx("p",{className:"text-xs text-blue-700 dark:text-blue-400",children:"Our AI has automatically detected and mapped your fields based on common patterns."})]})]})})]}),4===i&&k&&n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"Review Import Summary"}),n.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"Please review the data that will be imported"}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 mb-6",children:[n.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Accounts"}),n.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:k.accounts})]}),n.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Transactions"}),n.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:k.transactions})]}),n.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Categories"}),n.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:k.categories})]}),n.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Date Range"}),n.jsx("p",{className:"text-sm font-bold text-gray-900 dark:text-white",children:k.dateRange})]})]}),n.jsx("div",{className:"p-4 bg-yellow-50 dark:bg-yellow-900/20 rounded-lg",children:n.jsxs("div",{className:"flex items-start gap-2",children:[n.jsx(p,{size:20,className:"text-yellow-600 dark:text-yellow-400 mt-0.5"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-yellow-900 dark:text-yellow-300 mb-1",children:"Important Note"}),n.jsx("p",{className:"text-xs text-yellow-700 dark:text-yellow-400",children:"Duplicate transactions will be automatically detected and skipped during import. Your existing data will not be affected."})]})]})})]}),5===i&&n.jsx("div",{className:"text-center py-8",children:w?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"w-16 h-16 border-4 border-blue-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"Importing Your Data..."}),n.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"This may take a few minutes. Please don't close this window."})]}):n.jsxs(n.Fragment,{children:[n.jsx(g,{size:64,className:"text-green-500 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"Ready to Import"}),n.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:'Click "Complete Import" to finish the migration process.'})]})})]}),n.jsxs("div",{className:"px-6 py-4 border-t border-gray-200 dark:border-gray-700 flex items-center justify-between",children:[n.jsxs("button",{onClick:()=>{l(e=>Math.max(e-1,1)),z(null)},disabled:1===i||w,className:"flex items-center gap-2 px-4 py-2 rounded-lg transition-colors "+(1===i||w?"bg-gray-100 dark:bg-gray-700 text-gray-400 cursor-not-allowed":"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-gray-600"),children:[n.jsx(b,{size:16}),"Previous"]}),n.jsxs("button",{onClick:async()=>{if(2!==i||0!==f.length){if(2===i){C(!0);try{await new Promise(e=>setTimeout(e,2e3)),v({accounts:5,transactions:1234,categories:15,dateRange:"2020-01-01 to 2024-01-01"}),C(!1)}catch(e){return z("Failed to process files"),void C(!1)}}if(5!==i)l(e=>Math.min(e+1,5));else{C(!0);try{await new Promise(e=>setTimeout(e,3e3)),r&&r({source:o,files:f,data:k}),s()}catch(e){z("Migration failed. Please try again."),C(!1)}}}else z("Please upload at least one file")},disabled:1===i&&!o||2===i&&0===f.length||w,className:"flex items-center gap-2 px-4 py-2 rounded-lg transition-colors "+(1===i&&!o||2===i&&0===f.length||w?"bg-gray-100 dark:bg-gray-700 text-gray-400 cursor-not-allowed":"bg-blue-600 text-white hover:bg-blue-700"),children:[5===i?"Complete Import":"Next",i<5&&n.jsx(m,{size:16})]})]})]})}):null}import{r as t,dg as a,c6 as s,c3 as r,cI as i,dh as l,di as d,dj as o,L as n,bZ as c,dk as x,dl as m,c2 as g,cK as h,bN as p,dm as b}from"./chunk-Bcp2Zi4E.js";import"./chunk-oUGr0aFc.js";import"./chunk-a7oqB5tI.js";const y=[{id:1,title:"Select Source",description:"Choose where you're migrating from",icon:o},{id:2,title:"Upload Data",description:"Upload your exported data files",icon:x},{id:3,title:"Map Fields",description:"Review and map data fields",icon:m},{id:4,title:"Review",description:"Preview your imported data",icon:g},{id:5,title:"Import",description:"Complete the migration",icon:h}],u=[{id:"mint",name:"Mint",description:"Import from Intuit Mint",icon:s,color:"bg-green-500",fileTypes:[".csv"],instructions:"Export your data from Mint as CSV files before it shuts down."},{id:"quicken",name:"Quicken",description:"Import from Quicken",icon:r,color:"bg-blue-500",fileTypes:[".qif",".qfx"],instructions:"Export your Quicken data as QIF or QFX files."},{id:"ynab",name:"YNAB",description:"You Need A Budget",icon:i,color:"bg-purple-500",fileTypes:[".csv"],instructions:"Export your YNAB data from Account Settings > Export."},{id:"personalcapital",name:"Personal Capital",description:"Import from Personal Capital",icon:l,color:"bg-indigo-500",fileTypes:[".csv"],instructions:"Download your transaction history as CSV from Personal Capital."},{id:"excel",name:"Excel",description:"Import from Excel spreadsheet",icon:d,color:"bg-orange-500",fileTypes:[".xlsx",".xls"],instructions:"Upload your Excel file with transaction data."},{id:"csv",name:"CSV",description:"Generic CSV import",icon:o,color:"bg-gray-500",fileTypes:[".csv"],instructions:"Upload any CSV file with financial data."}];export{e as default};
