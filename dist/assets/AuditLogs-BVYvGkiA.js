function e(){const[e,g]=n.useState([]),[h,m]=n.useState([]),[u,p]=n.useState({action:"",resourceType:"",startDate:"",endDate:"",search:""});n.useEffect(()=>{y()},[]),n.useEffect(()=>{j()},[e,u]);const y=()=>{const e=c.getAuditLogs();g(e)},j=()=>{let t=[...e];if(u.action&&(t=t.filter(e=>e.action===u.action)),u.resourceType&&(t=t.filter(e=>e.resourceType===u.resourceType)),u.startDate){const e=new Date(u.startDate);t=t.filter(t=>t.timestamp>=e)}if(u.endDate){const e=new Date(u.endDate);e.setHours(23,59,59,999),t=t.filter(t=>t.timestamp<=e)}if(u.search){const e=u.search.toLowerCase();t=t.filter(t=>t.action.toLowerCase().includes(e)||t.resourceType.toLowerCase().includes(e)||t.resourceId&&t.resourceId.toLowerCase().includes(e)||t.userId.toLowerCase().includes(e))}m(t)},b=(e,t)=>{p(a=>({...a,[e]:t}))},k=e=>{switch(e){case"create":return"\u2705";case"update":return"\u270f\ufe0f";case"delete":return"\ud83d\uddd1\ufe0f";case"login":return"\ud83d\udd10";case"logout":return"\ud83d\udeaa";case"export":return"\ud83d\udce4";case"import":return"\ud83d\udce5";default:return"\ud83d\udcdd"}},v=e=>{switch(e){case"create":return"text-green-600 dark:text-green-400";case"update":return"text-blue-600 dark:text-blue-400";case"delete":return"text-red-600 dark:text-red-400";case"login":return"text-purple-600 dark:text-purple-400";case"logout":default:return"text-gray-600 dark:text-gray-400";case"export":return"text-orange-600 dark:text-orange-400";case"import":return"text-indigo-600 dark:text-indigo-400"}},f=e=>{if(!e)return null;const t=Object.keys(e);return 0===t.length?null:1===t.length?`Changed ${t[0]}`:`Changed ${t.length} fields`},N=n.useMemo(()=>[{key:"timestamp",header:"Timestamp",width:"180px",accessor:e=>t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(a,{size:16,className:"text-gray-400"}),t.jsxs("div",{children:[t.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:e.timestamp.toLocaleDateString()}),t.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:e.timestamp.toLocaleTimeString()})]})]}),sortable:!0},{key:"action",header:"Action",width:"120px",accessor:e=>t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-lg",children:k(e.action)}),t.jsx("span",{className:`text-sm font-medium capitalize ${v(e.action)}`,children:e.action})]}),sortable:!0},{key:"resource",header:"Resource",width:"180px",accessor:e=>t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(r,{size:16,className:"text-gray-400"}),t.jsxs("div",{children:[t.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white capitalize",children:e.resourceType}),e.resourceId&&t.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:["ID: ",e.resourceId]})]})]}),sortable:!0},{key:"user",header:"User",width:"150px",accessor:e=>t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(s,{size:16,className:"text-gray-400"}),t.jsx("span",{className:"text-sm text-gray-900 dark:text-white",children:e.userId})]})},{key:"changes",header:"Changes",accessor:e=>t.jsxs("div",{children:[t.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:f(e.changes)||"\u2014"}),e.ipAddress&&t.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-500 mt-1",children:["IP: ",e.ipAddress]})]})}],[]);return t.jsx(o,{children:t.jsxs("div",{className:"max-w-7xl mx-auto",children:[t.jsx("div",{className:"bg-gradient-to-r from-gray-600 to-gray-800 dark:from-gray-800 dark:to-gray-900 rounded-2xl p-6 mb-6 text-white shadow-lg",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Audit Logs"}),t.jsx("p",{className:"text-gray-100",children:"Complete history of all system activities and changes"})]}),t.jsx(l,{size:48,className:"text-white/80"})]})}),t.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-6 mb-6",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[t.jsx(i,{size:20,className:"text-gray-600 dark:text-gray-400"}),t.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:"Filters"})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Search"}),t.jsxs("div",{className:"relative",children:[t.jsx(d,{size:16,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),t.jsx("input",{type:"text",value:u.search,onChange:e=>b("search",e.target.value),placeholder:"Search logs...",className:"w-full pl-9 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Action"}),t.jsxs("select",{value:u.action,onChange:e=>b("action",e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[t.jsx("option",{value:"",children:"All Actions"}),t.jsx("option",{value:"create",children:"Create"}),t.jsx("option",{value:"update",children:"Update"}),t.jsx("option",{value:"delete",children:"Delete"}),t.jsx("option",{value:"login",children:"Login"}),t.jsx("option",{value:"logout",children:"Logout"}),t.jsx("option",{value:"export",children:"Export"}),t.jsx("option",{value:"import",children:"Import"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Resource Type"}),t.jsxs("select",{value:u.resourceType,onChange:e=>b("resourceType",e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[t.jsx("option",{value:"",children:"All Types"}),t.jsx("option",{value:"transaction",children:"Transaction"}),t.jsx("option",{value:"account",children:"Account"}),t.jsx("option",{value:"budget",children:"Budget"}),t.jsx("option",{value:"goal",children:"Goal"}),t.jsx("option",{value:"investment",children:"Investment"}),t.jsx("option",{value:"settings",children:"Settings"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Start Date"}),t.jsx("input",{type:"date",value:u.startDate,onChange:e=>b("startDate",e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"End Date"}),t.jsx("input",{type:"date",value:u.endDate,onChange:e=>b("endDate",e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]})]}),t.jsxs("div",{className:"flex gap-2 mt-4",children:[t.jsx("button",{onClick:()=>{p({action:"",resourceType:"",startDate:"",endDate:"",search:""})},className:"px-4 py-2 text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white",children:"Clear Filters"}),t.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400 flex items-center",children:["Showing ",h.length," of ",e.length," logs"]})]})]}),t.jsx("div",{style:{height:"600px"},children:t.jsx(x,{items:h,columns:N,getItemKey:e=>e.id,rowHeight:80,emptyMessage:0===e.length?"No activities have been logged yet":"Try adjusting your filters to see more results",threshold:50})})]})})}import{j as t,r as a,bd as r,by as s,b2 as l,aa as i,a3 as d}from"./index-Pkjq0qn3.js";import{a as n}from"./chunk-BWx9oMeS.js";import{s as c}from"./chunk-Cvxg0-1j.js";import{P as o}from"./chunk-BnYLBI7x.js";import{V as x}from"./chunk-CMYn1uit.js";import"./chunk-BN8kgYrt.js";import"./chunk-Drd-K-oK.js";import"./chunk-B4Yu4FH1.js";export{e as default};
