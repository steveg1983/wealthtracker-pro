function e({onDataChange:e}){const[a,r]=o.useState([]),[s,n]=o.useState(!1),[l,i]=o.useState(null),[d,c]=o.useState(null),[f,v]=o.useState(null);o.useEffect(()=>{w()},[]),o.useEffect(()=>{if(d){const e=A.calculateRetirementProjection(d);v(e)}},[d]);const w=()=>{const e=A.getRetirementPlans();r(e),e.length>0&&!d&&c(e[0])},k=()=>{i(null),n(!0)},C=e=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(e),P=e=>`${(100*e).toFixed(1)}%`;return m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{children:[m.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Retirement Planning"}),m.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Plan for your retirement and track your progress"})]}),m.jsxs("button",{onClick:k,className:"flex items-center gap-2 px-4 py-2 bg-[var(--color-primary)] text-white rounded-lg hover:bg-[var(--color-primary)]/90",children:[m.jsx(x,{size:16}),"Create Plan"]})]}),0===a.length?m.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-12 text-center",children:[m.jsx(g,{size:48,className:"mx-auto mb-4 text-gray-400"}),m.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"No retirement plans yet"}),m.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-4",children:"Create your first retirement plan to get started with planning for your future"}),m.jsxs("button",{onClick:k,className:"inline-flex items-center gap-2 px-4 py-2 bg-[var(--color-primary)] text-white rounded-lg hover:bg-[var(--color-primary)]/90",children:[m.jsx(x,{size:16}),"Create Your First Plan"]})]}):m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[m.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-6",children:[m.jsxs("div",{className:"flex items-center justify-between mb-4",children:[m.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:"Your Plans"}),m.jsx("button",{onClick:k,className:"p-2 text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white",children:m.jsx(x,{size:16})})]}),m.jsx("div",{className:"space-y-3",children:a.map(t=>m.jsxs("div",{className:"p-4 rounded-lg border cursor-pointer transition-colors "+(d?.id===t.id?"border-[var(--color-primary)] bg-blue-50 dark:bg-blue-900/20":"border-gray-200 dark:border-gray-700 hover:border-gray-300 dark:hover:border-gray-600"),onClick:()=>c(t),children:[m.jsxs("div",{className:"flex items-center justify-between mb-2",children:[m.jsx("h4",{className:"font-medium text-gray-900 dark:text-white",children:t.name}),m.jsxs("div",{className:"flex items-center gap-1",children:[m.jsx("button",{onClick:e=>{e.stopPropagation(),(e=>{i(e),n(!0)})(t)},className:"p-1 text-gray-400 hover:text-blue-600 dark:hover:text-blue-400",children:m.jsx(h,{size:14})}),m.jsx("button",{onClick:r=>{r.stopPropagation(),(t=>{if(window.confirm("Are you sure you want to delete this retirement plan?")&&(A.deleteRetirementPlan(t.id),w(),e(),d?.id===t.id)){const e=a.filter(e=>e.id!==t.id);c(e.length>0?e[0]:null)}})(t)},className:"p-1 text-gray-400 hover:text-red-600 dark:hover:text-red-400",children:m.jsx(u,{size:14})})]})]}),m.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:[m.jsxs("div",{children:["Age ",t.currentAge," \u2192 ",t.retirementAge]}),m.jsxs("div",{children:[C(t.monthlyContribution),"/month"]})]})]},t.id))})]}),m.jsx("div",{className:"lg:col-span-2 space-y-6",children:d&&f&&m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[m.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-6",children:[m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Projected Balance"}),m.jsx("p",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:C(f.totalSavingsAtRetirement)})]}),m.jsx(y,{size:24,className:"text-green-500"})]}),m.jsxs("div",{className:"mt-2 text-sm text-gray-500 dark:text-gray-400",children:["At retirement in ",f.yearsToRetirement," years"]})]}),m.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-6",children:[m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Monthly Income"}),m.jsx("p",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:C(f.monthlyIncomeAvailable)})]}),m.jsx(p,{size:24,className:"text-blue-500"})]}),m.jsx("div",{className:"mt-2 text-sm text-gray-500 dark:text-gray-400",children:"Based on 4% withdrawal rule"})]})]}),f.shortfall>0&&m.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4",children:m.jsxs("div",{className:"flex items-start gap-3",children:[m.jsx(b,{size:20,className:"text-red-600 dark:text-red-400 mt-0.5"}),m.jsxs("div",{className:"flex-1",children:[m.jsx("h4",{className:"font-medium text-red-900 dark:text-red-100 mb-1",children:"Monthly Income Shortfall"}),m.jsxs("p",{className:"text-sm text-red-800 dark:text-red-200 mb-2",children:["You're projected to be ",C(f.shortfall)," short of your target monthly income."]}),m.jsxs("p",{className:"text-sm text-red-700 dark:text-red-300",children:[m.jsx("strong",{children:"Recommendation:"})," Increase monthly contributions to"," ",m.jsx("span",{className:"font-semibold",children:C(f.recommendedMonthlyContribution)})," ","to meet your target."]})]})]})}),f.shortfall<=0&&m.jsx("div",{className:"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg p-4",children:m.jsxs("div",{className:"flex items-start gap-3",children:[m.jsx(j,{size:20,className:"text-green-600 dark:text-green-400 mt-0.5"}),m.jsxs("div",{className:"flex-1",children:[m.jsx("h4",{className:"font-medium text-green-900 dark:text-green-100 mb-1",children:"On Track for Retirement"}),m.jsx("p",{className:"text-sm text-green-800 dark:text-green-200",children:"Your current savings plan will meet your retirement income target with room to spare."})]})]})}),m.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-6",children:[m.jsxs("h3",{className:"font-semibold text-gray-900 dark:text-white mb-4 flex items-center gap-2",children:[m.jsx(N,{size:20}),"Plan Details: ",d.name]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[m.jsxs("div",{className:"space-y-3",children:[m.jsxs("div",{className:"flex justify-between",children:[m.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Current Age:"}),m.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:d.currentAge})]}),m.jsxs("div",{className:"flex justify-between",children:[m.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Retirement Age:"}),m.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:d.retirementAge})]}),m.jsxs("div",{className:"flex justify-between",children:[m.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Current Savings:"}),m.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:C(d.currentSavings)})]}),m.jsxs("div",{className:"flex justify-between",children:[m.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Monthly Contribution:"}),m.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:C(d.monthlyContribution)})]})]}),m.jsxs("div",{className:"space-y-3",children:[m.jsxs("div",{className:"flex justify-between",children:[m.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Expected Return:"}),m.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:P(d.expectedReturn)})]}),m.jsxs("div",{className:"flex justify-between",children:[m.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Inflation Rate:"}),m.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:P(d.inflationRate)})]}),m.jsxs("div",{className:"flex justify-between",children:[m.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Target Monthly Income:"}),m.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:C(d.targetRetirementIncome)})]}),m.jsxs("div",{className:"flex justify-between",children:[m.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Years to Retirement:"}),m.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:f.yearsToRetirement})]})]})]})]}),m.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-6",children:[m.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-4",children:"Retirement Savings Projection"}),m.jsxs("div",{className:"space-y-4",children:[f.projectionsByYear.slice(0,10).map((e,t)=>m.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-gray-100 dark:border-gray-700 last:border-b-0",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsxs("div",{className:"w-12 text-sm text-gray-600 dark:text-gray-400",children:["Age ",e.age]}),m.jsxs("div",{className:"text-sm text-gray-900 dark:text-white",children:["Year ",e.year]})]}),m.jsxs("div",{className:"flex items-center gap-6 text-sm",children:[m.jsxs("div",{className:"text-green-600 dark:text-green-400",children:["+",C(e.contribution)]}),m.jsxs("div",{className:"text-blue-600 dark:text-blue-400",children:["+",C(e.growth)]}),m.jsx("div",{className:"font-medium text-gray-900 dark:text-white w-24 text-right",children:C(e.balance)})]})]},e.year)),f.projectionsByYear.length>10&&m.jsxs("div",{className:"text-center py-2 text-gray-500 dark:text-gray-400",children:["... and ",f.projectionsByYear.length-10," more years"]})]})]})]})})]}),s&&m.jsx(t,{plan:l,onClose:()=>n(!1),onSave:t=>{if(l)A.updateRetirementPlan(l.id,t);else{const e=A.addRetirementPlan(t);c(e)}n(!1),w(),e()}})]})}function t({plan:e,onClose:t,onSave:a}){const[r,s]=o.useState({name:e?.name||"",currentAge:e?.currentAge||35,retirementAge:e?.retirementAge||65,currentSavings:e?.currentSavings||0,monthlyContribution:e?.monthlyContribution||0,expectedReturn:e?.expectedReturn||.07,inflationRate:e?.inflationRate||.025,targetRetirementIncome:e?.targetRetirementIncome||0});return m.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:m.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-2xl w-full max-w-md max-h-[90vh] overflow-y-auto",children:m.jsxs("form",{onSubmit:e=>{e.preventDefault(),a(r)},className:"p-6",children:[m.jsxs("div",{className:"flex items-center justify-between mb-6",children:[m.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:e?"Edit Retirement Plan":"Create Retirement Plan"}),m.jsx("button",{type:"button",onClick:t,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:m.jsx(x,{size:20,className:"rotate-45"})})]}),m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Plan Name"}),m.jsx("input",{type:"text",value:r.name,onChange:e=>s({...r,name:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"e.g., Primary Retirement Plan",required:!0})]}),m.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Current Age"}),m.jsx("input",{type:"number",value:r.currentAge,onChange:e=>s({...r,currentAge:Number(e.target.value)}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",min:"18",max:"100",required:!0})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Retirement Age"}),m.jsx("input",{type:"number",value:r.retirementAge,onChange:e=>s({...r,retirementAge:Number(e.target.value)}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",min:"50",max:"100",required:!0})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Current Savings"}),m.jsx("input",{type:"number",value:r.currentSavings,onChange:e=>s({...r,currentSavings:Number(e.target.value)}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",min:"0",step:"1000",required:!0})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Monthly Contribution"}),m.jsx("input",{type:"number",value:r.monthlyContribution,onChange:e=>s({...r,monthlyContribution:Number(e.target.value)}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",min:"0",step:"50",required:!0})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Expected Annual Return (%)"}),m.jsx("input",{type:"number",value:100*r.expectedReturn,onChange:e=>s({...r,expectedReturn:Number(e.target.value)/100}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",min:"0",max:"20",step:"0.1",required:!0})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Inflation Rate (%)"}),m.jsx("input",{type:"number",value:100*r.inflationRate,onChange:e=>s({...r,inflationRate:Number(e.target.value)/100}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",min:"0",max:"10",step:"0.1",required:!0})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Target Monthly Income in Retirement"}),m.jsx("input",{type:"number",value:r.targetRetirementIncome,onChange:e=>s({...r,targetRetirementIncome:Number(e.target.value)}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",min:"0",step:"100",required:!0})]})]}),m.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[m.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-gray-700 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white",children:"Cancel"}),m.jsxs("button",{type:"submit",className:"px-4 py-2 bg-[var(--color-primary)] text-white rounded-lg hover:bg-[var(--color-primary)]/90",children:[e?"Update":"Create"," Plan"]})]})]})})})}function a({onDataChange:e}){const[t,a]=o.useState([]),[r,s]=o.useState(!1),[n,l]=o.useState({loanAmount:4e5,interestRate:6.5,loanTermYears:30}),[i,d]=o.useState(null);o.useEffect(()=>{c()},[]);const c=()=>{const e=A.getMortgageCalculations();a(e),e.length>0&&!i&&d(e[0])},g=e=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(e),h=e=>`${(100*e).toFixed(2)}%`,b=e=>e.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"});return m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{children:[m.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Mortgage Calculator"}),m.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Calculate mortgage payments and view amortization schedules"})]}),m.jsxs("button",{onClick:()=>s(!0),className:"flex items-center gap-2 px-4 py-2 bg-[var(--color-primary)] text-white rounded-lg hover:bg-[var(--color-primary)]/90",children:[m.jsx(f,{size:16}),"New Calculation"]})]}),0===t.length?m.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-12 text-center",children:[m.jsx(v,{size:48,className:"mx-auto mb-4 text-gray-400"}),m.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"No mortgage calculations yet"}),m.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-4",children:"Calculate your mortgage payments and view detailed amortization schedules"}),m.jsxs("button",{onClick:()=>s(!0),className:"inline-flex items-center gap-2 px-4 py-2 bg-[var(--color-primary)] text-white rounded-lg hover:bg-[var(--color-primary)]/90",children:[m.jsx(f,{size:16}),"Calculate Mortgage"]})]}):m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[m.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-6",children:[m.jsxs("div",{className:"flex items-center justify-between mb-4",children:[m.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:"Your Calculations"}),m.jsx("button",{onClick:()=>s(!0),className:"p-2 text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white",children:m.jsx(x,{size:16})})]}),m.jsx("div",{className:"space-y-3",children:t.map(a=>m.jsxs("div",{className:"p-4 rounded-lg border cursor-pointer transition-colors "+(i?.id===a.id?"border-[var(--color-primary)] bg-blue-50 dark:bg-blue-900/20":"border-gray-200 dark:border-gray-700 hover:border-gray-300 dark:hover:border-gray-600"),onClick:()=>d(a),children:[m.jsxs("div",{className:"flex items-center justify-between mb-2",children:[m.jsx("h4",{className:"font-medium text-gray-900 dark:text-white",children:g(a.loanAmount)}),m.jsx("button",{onClick:r=>{r.stopPropagation(),(a=>{if(window.confirm("Are you sure you want to delete this mortgage calculation?")&&(A.deleteMortgageCalculation(a.id),c(),e(),i?.id===a.id)){const e=t.filter(e=>e.id!==a.id);d(e.length>0?e[0]:null)}})(a)},className:"p-1 text-gray-400 hover:text-red-600 dark:hover:text-red-400",children:m.jsx(u,{size:14})})]}),m.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:[m.jsxs("div",{children:[h(a.interestRate)," \u2022 ",a.loanTermYears," years"]}),m.jsxs("div",{children:[g(a.monthlyPayment),"/month"]})]})]},a.id))})]}),m.jsx("div",{className:"lg:col-span-2 space-y-6",children:i&&m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[m.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-6",children:m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Monthly Payment"}),m.jsx("p",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:g(i.monthlyPayment)})]}),m.jsx(p,{size:24,className:"text-blue-500"})]})}),m.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-6",children:m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Interest"}),m.jsx("p",{className:"text-2xl font-bold text-red-600 dark:text-red-400",children:g(i.totalInterest)})]}),m.jsx(y,{size:24,className:"text-red-500"})]})})]}),m.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-6",children:[m.jsxs("h3",{className:"font-semibold text-gray-900 dark:text-white mb-4 flex items-center gap-2",children:[m.jsx(v,{size:20}),"Loan Details"]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[m.jsxs("div",{className:"space-y-3",children:[m.jsxs("div",{className:"flex justify-between",children:[m.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Loan Amount:"}),m.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:g(i.loanAmount)})]}),m.jsxs("div",{className:"flex justify-between",children:[m.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Interest Rate:"}),m.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:h(i.interestRate)})]}),m.jsxs("div",{className:"flex justify-between",children:[m.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Loan Term:"}),m.jsxs("span",{className:"font-medium text-gray-900 dark:text-white",children:[i.loanTermYears," years"]})]})]}),m.jsxs("div",{className:"space-y-3",children:[m.jsxs("div",{className:"flex justify-between",children:[m.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Monthly Payment:"}),m.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:g(i.monthlyPayment)})]}),m.jsxs("div",{className:"flex justify-between",children:[m.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Cost:"}),m.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:g(i.totalCost)})]}),m.jsxs("div",{className:"flex justify-between",children:[m.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Payoff Date:"}),m.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:b(i.payoffDate)})]})]})]})]}),m.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-6",children:[m.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-4",children:"Amortization Schedule (First 12 Months)"}),m.jsx("div",{className:"overflow-x-auto",children:m.jsxs("table",{className:"w-full text-sm",children:[m.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:m.jsxs("tr",{children:[m.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 dark:text-gray-300",children:"Payment"}),m.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 dark:text-gray-300",children:"Date"}),m.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 dark:text-gray-300",children:"Principal"}),m.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 dark:text-gray-300",children:"Interest"}),m.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 dark:text-gray-300",children:"Balance"})]})}),m.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:i.amortizationSchedule.slice(0,12).map(e=>m.jsxs("tr",{children:[m.jsx("td",{className:"px-3 py-2 text-gray-900 dark:text-white",children:e.paymentNumber}),m.jsx("td",{className:"px-3 py-2 text-gray-600 dark:text-gray-400",children:b(e.paymentDate)}),m.jsx("td",{className:"px-3 py-2 text-green-600 dark:text-green-400",children:g(e.principalPayment)}),m.jsx("td",{className:"px-3 py-2 text-red-600 dark:text-red-400",children:g(e.interestPayment)}),m.jsx("td",{className:"px-3 py-2 text-gray-900 dark:text-white",children:g(e.remainingBalance)})]},e.paymentNumber))})]})}),m.jsxs("div",{className:"text-center mt-4 text-gray-500 dark:text-gray-400",children:["Showing first 12 of ",i.amortizationSchedule.length," payments"]})]})]})})]}),r&&m.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:m.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-2xl w-full max-w-md",children:m.jsxs("div",{className:"p-6",children:[m.jsxs("div",{className:"flex items-center justify-between mb-6",children:[m.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Calculate Mortgage"}),m.jsx("button",{onClick:()=>s(!1),className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:m.jsx(x,{size:20,className:"rotate-45"})})]}),m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Loan Amount"}),m.jsx("input",{type:"number",value:n.loanAmount,onChange:e=>l({...n,loanAmount:Number(e.target.value)}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",min:"0",step:"1000"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Interest Rate (%)"}),m.jsx("input",{type:"number",value:n.interestRate,onChange:e=>l({...n,interestRate:Number(e.target.value)}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",min:"0",max:"20",step:"0.1"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Loan Term (years)"}),m.jsxs("select",{value:n.loanTermYears,onChange:e=>l({...n,loanTermYears:Number(e.target.value)}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[m.jsx("option",{value:15,children:"15 years"}),m.jsx("option",{value:20,children:"20 years"}),m.jsx("option",{value:25,children:"25 years"}),m.jsx("option",{value:30,children:"30 years"})]})]})]}),m.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[m.jsx("button",{onClick:()=>s(!1),className:"px-4 py-2 text-gray-700 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white",children:"Cancel"}),m.jsx("button",{onClick:()=>{const t=A.calculateMortgage(n.loanAmount,n.interestRate/100,n.loanTermYears);d(t),s(!1),c(),e()},className:"px-4 py-2 bg-[var(--color-primary)] text-white rounded-lg hover:bg-[var(--color-primary)]/90",children:"Calculate"})]})]})})})]})}function r({onDataChange:e}){return m.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-12 text-center",children:[m.jsx(w,{size:48,className:"mx-auto mb-4 text-gray-400"}),m.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"College Planning"}),m.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"College planning tools will be available in a future update"})]})}function s({onDataChange:e}){return m.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-12 text-center",children:[m.jsx(k,{size:48,className:"mx-auto mb-4 text-gray-400"}),m.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"Debt Payoff Planning"}),m.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Debt payoff planning tools will be available in a future update"})]})}function n({onDataChange:e}){return m.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-12 text-center",children:[m.jsx(C,{size:48,className:"mx-auto mb-4 text-gray-400"}),m.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"Financial Goal Tracker"}),m.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Financial goal tracking tools will be available in a future update"})]})}function l({onDataChange:e}){return m.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-12 text-center",children:[m.jsx(P,{size:48,className:"mx-auto mb-4 text-gray-400"}),m.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"Insurance Planning"}),m.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Insurance planning tools will be available in a future update"})]})}function i({onDataChange:e}){return m.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-12 text-center",children:[m.jsx(y,{size:48,className:"mx-auto mb-4 text-gray-400"}),m.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"Net Worth Projector"}),m.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Net worth projection tools will be available in a future update"})]})}function d(){const[t,d]=o.useState("overview"),[c,x]=o.useState([]),[h,u]=o.useState([]),[p,R]=o.useState([]),[I,z]=o.useState([]),[M,F]=o.useState([]),[G,T]=o.useState([]),[Y,B]=o.useState(!0);o.useEffect(()=>{E()},[]);const E=async()=>{B(!0);try{x(A.getRetirementPlans()),u(A.getMortgageCalculations()),R(A.getCollegePlans()),z(A.getDebtPlans()),F(A.getFinancialGoals()),T(A.getInsuranceNeeds())}catch(e){console.error("Error loading financial planning data:",e)}finally{B(!1)}},O=()=>{E()},U=e=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(e),J=e=>A.calculateGoalProjection(e).onTrack?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400",q=e=>A.calculateGoalProjection(e).onTrack?m.jsx(j,{size:16,className:"text-green-500"}):m.jsx(b,{size:16,className:"text-red-500"});return Y?m.jsx(S,{title:"Financial Planning",children:m.jsx("div",{className:"flex items-center justify-center min-h-64",children:m.jsx("div",{className:"text-gray-500 dark:text-gray-400",children:"Loading financial planning data..."})})}):m.jsx(S,{title:"Financial Planning",children:m.jsxs("div",{className:"max-w-7xl mx-auto",children:[m.jsx("div",{className:"bg-gradient-to-r from-purple-600 to-indigo-600 dark:from-purple-800 dark:to-indigo-800 rounded-2xl p-6 mb-6 text-white shadow-lg",children:m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{children:[m.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Financial Planning"}),m.jsx("p",{className:"text-purple-100",children:"Plan for retirement, calculate mortgages, and achieve your financial goals"})]}),m.jsx(f,{size:48,className:"text-white/80"})]})}),m.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm mb-6",children:m.jsx("div",{className:"border-b border-gray-200 dark:border-gray-700",children:m.jsxs("nav",{className:"flex space-x-8 overflow-x-auto",children:[m.jsx("button",{onClick:()=>d("overview"),className:"py-4 px-6 border-b-2 font-medium text-sm whitespace-nowrap "+("overview"===t?"border-[var(--color-primary)] text-[var(--color-primary)]":"border-transparent text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300"),children:m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(N,{size:16}),"Overview"]})}),m.jsx("button",{onClick:()=>d("retirement"),className:"py-4 px-6 border-b-2 font-medium text-sm whitespace-nowrap "+("retirement"===t?"border-[var(--color-primary)] text-[var(--color-primary)]":"border-transparent text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300"),children:m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(g,{size:16}),"Retirement"]})}),m.jsx("button",{onClick:()=>d("mortgage"),className:"py-4 px-6 border-b-2 font-medium text-sm whitespace-nowrap "+("mortgage"===t?"border-[var(--color-primary)] text-[var(--color-primary)]":"border-transparent text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300"),children:m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(v,{size:16}),"Mortgage"]})}),m.jsx("button",{onClick:()=>d("college"),className:"py-4 px-6 border-b-2 font-medium text-sm whitespace-nowrap "+("college"===t?"border-[var(--color-primary)] text-[var(--color-primary)]":"border-transparent text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300"),children:m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(w,{size:16}),"College"]})}),m.jsx("button",{onClick:()=>d("debt"),className:"py-4 px-6 border-b-2 font-medium text-sm whitespace-nowrap "+("debt"===t?"border-[var(--color-primary)] text-[var(--color-primary)]":"border-transparent text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300"),children:m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(k,{size:16}),"Debt Payoff"]})}),m.jsx("button",{onClick:()=>d("goals"),className:"py-4 px-6 border-b-2 font-medium text-sm whitespace-nowrap "+("goals"===t?"border-[var(--color-primary)] text-[var(--color-primary)]":"border-transparent text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300"),children:m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(C,{size:16}),"Goals"]})}),m.jsx("button",{onClick:()=>d("insurance"),className:"py-4 px-6 border-b-2 font-medium text-sm whitespace-nowrap "+("insurance"===t?"border-[var(--color-primary)] text-[var(--color-primary)]":"border-transparent text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300"),children:m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(P,{size:16}),"Insurance"]})}),m.jsx("button",{onClick:()=>d("networth"),className:"py-4 px-6 border-b-2 font-medium text-sm whitespace-nowrap "+("networth"===t?"border-[var(--color-primary)] text-[var(--color-primary)]":"border-transparent text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300"),children:m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(y,{size:16}),"Net Worth"]})})]})})}),"overview"===t&&m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[m.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-6",children:m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Retirement Plans"}),m.jsx("p",{className:"text-2xl font-bold text-purple-600 dark:text-purple-400",children:c.length})]}),m.jsx(g,{size:24,className:"text-purple-500"})]})}),m.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-6",children:m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Active Goals"}),m.jsx("p",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:M.length})]}),m.jsx(C,{size:24,className:"text-blue-500"})]})}),m.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-6",children:m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Debt Plans"}),m.jsx("p",{className:"text-2xl font-bold text-red-600 dark:text-red-400",children:I.length})]}),m.jsx(k,{size:24,className:"text-red-500"})]})}),m.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-6",children:m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Insurance Items"}),m.jsx("p",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:G.length})]}),m.jsx(P,{size:24,className:"text-green-500"})]})})]}),m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[m.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-6",children:[m.jsxs("div",{className:"flex items-center justify-between mb-4",children:[m.jsxs("h3",{className:"font-semibold text-gray-900 dark:text-white flex items-center gap-2",children:[m.jsx(g,{size:20,className:"text-purple-600 dark:text-purple-400"}),"Retirement Plans"]}),m.jsxs("button",{onClick:()=>d("retirement"),className:"text-sm text-blue-600 dark:text-blue-400 hover:underline flex items-center gap-1",children:["View All ",m.jsx(D,{size:14})]})]}),0===c.length?m.jsxs("div",{className:"text-center py-8",children:[m.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-4",children:"No retirement plans yet"}),m.jsx("button",{onClick:()=>d("retirement"),className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 text-sm",children:"Create Plan"})]}):m.jsx("div",{className:"space-y-3",children:c.slice(0,3).map(e=>{const t=A.calculateRetirementProjection(e);return m.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[m.jsxs("div",{children:[m.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:e.name}),m.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[t.yearsToRetirement," years to retirement"]})]}),m.jsxs("div",{className:"text-right",children:[m.jsx("p",{className:"font-semibold text-purple-600 dark:text-purple-400",children:U(t.totalSavingsAtRetirement)}),m.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"projected"})]})]},e.id)})})]}),m.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-6",children:[m.jsxs("div",{className:"flex items-center justify-between mb-4",children:[m.jsxs("h3",{className:"font-semibold text-gray-900 dark:text-white flex items-center gap-2",children:[m.jsx(C,{size:20,className:"text-blue-600 dark:text-blue-400"}),"Financial Goals"]}),m.jsxs("button",{onClick:()=>d("goals"),className:"text-sm text-blue-600 dark:text-blue-400 hover:underline flex items-center gap-1",children:["View All ",m.jsx(D,{size:14})]})]}),0===M.length?m.jsxs("div",{className:"text-center py-8",children:[m.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-4",children:"No financial goals yet"}),m.jsx("button",{onClick:()=>d("goals"),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 text-sm",children:"Create Goal"})]}):m.jsx("div",{className:"space-y-3",children:M.slice(0,3).map(e=>{A.calculateGoalProjection(e);const t=e.currentSavings/e.targetAmount*100;return m.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[m.jsxs("div",{className:"flex items-center justify-between mb-2",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:e.name}),q(e)]}),m.jsx("span",{className:`text-sm font-medium ${J(e)}`,children:(a=e.targetDate,a.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}))})]}),m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:[U(e.currentSavings)," of ",U(e.targetAmount)]}),m.jsxs("div",{className:"text-sm text-gray-900 dark:text-white",children:[t.toFixed(1),"%"]})]}),m.jsx("div",{className:"mt-2 w-full bg-gray-200 dark:bg-gray-600 rounded-full h-2",children:m.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${Math.min(t,100)}%`}})})]},e.id);var a})})]})]}),m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[m.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-6",children:[m.jsxs("div",{className:"flex items-center justify-between mb-4",children:[m.jsxs("h3",{className:"font-semibold text-gray-900 dark:text-white flex items-center gap-2",children:[m.jsx(k,{size:20,className:"text-red-600 dark:text-red-400"}),"Debt Payoff Plans"]}),m.jsxs("button",{onClick:()=>d("debt"),className:"text-sm text-blue-600 dark:text-blue-400 hover:underline flex items-center gap-1",children:["View All ",m.jsx(D,{size:14})]})]}),0===I.length?m.jsxs("div",{className:"text-center py-8",children:[m.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-4",children:"No debt plans yet"}),m.jsx("button",{onClick:()=>d("debt"),className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 text-sm",children:"Create Plan"})]}):m.jsx("div",{className:"space-y-3",children:I.slice(0,3).map(e=>{const t=A.calculateDebtPayoff(e);return m.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[m.jsxs("div",{children:[m.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:e.debtName}),m.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[U(e.currentBalance)," at ",(100*e.interestRate).toFixed(1),"%"]})]}),m.jsxs("div",{className:"text-right",children:[m.jsxs("p",{className:"font-semibold text-red-600 dark:text-red-400",children:[t.monthsToPayoff," months"]}),m.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"to payoff"})]})]},e.id)})})]}),m.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-6",children:[m.jsxs("div",{className:"flex items-center justify-between mb-4",children:[m.jsxs("h3",{className:"font-semibold text-gray-900 dark:text-white flex items-center gap-2",children:[m.jsx(P,{size:20,className:"text-green-600 dark:text-green-400"}),"Insurance Coverage"]}),m.jsxs("button",{onClick:()=>d("insurance"),className:"text-sm text-blue-600 dark:text-blue-400 hover:underline flex items-center gap-1",children:["View All ",m.jsx(D,{size:14})]})]}),0===G.length?m.jsxs("div",{className:"text-center py-8",children:[m.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-4",children:"No insurance plans yet"}),m.jsx("button",{onClick:()=>d("insurance"),className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 text-sm",children:"Add Insurance"})]}):m.jsx("div",{className:"space-y-3",children:G.slice(0,3).map(e=>{const t=(e=>{const t=e.currentCoverage/e.recommendedCoverage;return t>=.9?{status:"adequate",color:"text-green-600 dark:text-green-400"}:t>=.5?{status:"low",color:"text-yellow-600 dark:text-yellow-400"}:{status:"critical",color:"text-red-600 dark:text-red-400"}})(e);return m.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[m.jsxs("div",{children:[m.jsxs("p",{className:"font-medium text-gray-900 dark:text-white capitalize",children:[e.type," Insurance"]}),m.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[U(e.currentCoverage)," / ",U(e.recommendedCoverage)]})]}),m.jsxs("div",{className:"text-right",children:[m.jsx("p",{className:`font-semibold ${t.color}`,children:t.status}),m.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:["$",e.monthlyPremium,"/mo"]})]})]},e.id)})})]})]})]}),"retirement"===t&&m.jsx(e,{onDataChange:O}),"mortgage"===t&&m.jsx(a,{onDataChange:O}),"college"===t&&m.jsx(r,{onDataChange:O}),"debt"===t&&m.jsx(s,{onDataChange:O}),"goals"===t&&m.jsx(n,{onDataChange:O}),"insurance"===t&&m.jsx(l,{onDataChange:O}),"networth"===t&&m.jsx(i,{onDataChange:O})]})})}import{bP as c,r as o,H as m}from"./chunk-DowOIOga.js";import{$ as x,n as g,E as h,ao as u,T as y,ak as p,aa as b,v as j,B as N,f,H as v,bC as w,o as k,au as C,S as P,aj as D}from"./index-qHm2isZb.js";import{P as S}from"./chunk-r7IQz9KP.js";import"./chunk-ddLY9KjI.js";import"./chunk-B5pcS96K.js";const A=new class{retirementPlans=[];mortgageCalculations=[];collegePlans=[];debtPlans=[];financialGoals=[];insuranceNeeds=[];constructor(){this.loadData(),this.createSampleData()}loadData(){try{const e=localStorage.getItem("financial-retirement-plans");e&&(this.retirementPlans=JSON.parse(e).map(e=>({...e,createdAt:new Date(e.createdAt),lastUpdated:new Date(e.lastUpdated)})));const t=localStorage.getItem("financial-mortgage-calculations");t&&(this.mortgageCalculations=JSON.parse(t).map(e=>({...e,payoffDate:new Date(e.payoffDate),createdAt:new Date(e.createdAt),amortizationSchedule:e.amortizationSchedule.map(e=>({...e,paymentDate:new Date(e.paymentDate)}))})));const a=localStorage.getItem("financial-college-plans");a&&(this.collegePlans=JSON.parse(a).map(e=>({...e,createdAt:new Date(e.createdAt)})));const r=localStorage.getItem("financial-debt-plans");r&&(this.debtPlans=JSON.parse(r).map(e=>({...e,createdAt:new Date(e.createdAt)})));const s=localStorage.getItem("financial-goals");s&&(this.financialGoals=JSON.parse(s).map(e=>({...e,targetDate:new Date(e.targetDate),createdAt:new Date(e.createdAt)})));const n=localStorage.getItem("financial-insurance-needs");n&&(this.insuranceNeeds=JSON.parse(n).map(e=>({...e,createdAt:new Date(e.createdAt)})))}catch(e){console.error("Error loading financial planning data:",e)}}saveData(){try{localStorage.setItem("financial-retirement-plans",JSON.stringify(this.retirementPlans)),localStorage.setItem("financial-mortgage-calculations",JSON.stringify(this.mortgageCalculations)),localStorage.setItem("financial-college-plans",JSON.stringify(this.collegePlans)),localStorage.setItem("financial-debt-plans",JSON.stringify(this.debtPlans)),localStorage.setItem("financial-goals",JSON.stringify(this.financialGoals)),localStorage.setItem("financial-insurance-needs",JSON.stringify(this.insuranceNeeds))}catch(e){console.error("Error saving financial planning data:",e)}}createSampleData(){if(0===this.retirementPlans.length){const e={id:"1",name:"Primary Retirement Plan",currentAge:35,retirementAge:65,currentSavings:125e3,monthlyContribution:1e3,expectedReturn:.07,inflationRate:.025,targetRetirementIncome:5e3,createdAt:new Date("2024-01-15"),lastUpdated:new Date("2024-01-15")};this.retirementPlans.push(e)}if(0===this.mortgageCalculations.length){const e=this.calculateMortgage(4e5,.065,30);this.mortgageCalculations.push(e)}if(0===this.collegePlans.length){const e={id:"1",childName:"Emma",currentAge:8,collegeStartAge:18,currentSavings:15e3,monthlyContribution:300,expectedReturn:.06,estimatedCost:2e5,inflationRate:.03,createdAt:new Date("2024-01-15")};this.collegePlans.push(e)}if(0===this.debtPlans.length){const e={id:"1",debtName:"Credit Card Debt",currentBalance:8500,interestRate:.1899,minimumPayment:250,additionalPayment:100,strategy:"avalanche",createdAt:new Date("2024-01-15")};this.debtPlans.push(e)}if(0===this.financialGoals.length){const e=[{id:"1",name:"Emergency Fund",targetAmount:25e3,currentSavings:8e3,monthlyContribution:500,targetDate:new Date("2025-12-31"),priority:"high",category:"emergency",expectedReturn:.04,createdAt:new Date("2024-01-15")},{id:"2",name:"European Vacation",targetAmount:12e3,currentSavings:2e3,monthlyContribution:400,targetDate:new Date("2025-06-15"),priority:"medium",category:"vacation",expectedReturn:.02,createdAt:new Date("2024-01-15")}];this.financialGoals.push(...e)}if(0===this.insuranceNeeds.length){const e=[{id:"1",type:"life",currentCoverage:25e4,recommendedCoverage:5e5,monthlyPremium:85,provider:"State Farm",notes:"Consider increasing coverage due to mortgage",createdAt:new Date("2024-01-15")},{id:"2",type:"disability",currentCoverage:0,recommendedCoverage:6e4,monthlyPremium:120,provider:"Not yet purchased",notes:"Essential for income protection",createdAt:new Date("2024-01-15")}];this.insuranceNeeds.push(...e)}this.saveData()}getRetirementPlans(){return this.retirementPlans}addRetirementPlan(e){const t={...e,id:Date.now().toString(),createdAt:new Date,lastUpdated:new Date};return this.retirementPlans.push(t),this.saveData(),t}updateRetirementPlan(e,t){const a=this.retirementPlans.findIndex(t=>t.id===e);return-1===a?null:(this.retirementPlans[a]={...this.retirementPlans[a],...t,lastUpdated:new Date},this.saveData(),this.retirementPlans[a])}deleteRetirementPlan(e){const t=this.retirementPlans.findIndex(t=>t.id===e);return-1!==t&&(this.retirementPlans.splice(t,1),this.saveData(),!0)}calculateRetirementProjection(e){const t=e.retirementAge-e.currentAge,a=12*t,r=e.expectedReturn/12,s=new c(e.currentSavings).mul(new c(1+r).pow(a)),n=new c(e.monthlyContribution).mul(new c(1+r).pow(a).minus(1)).div(r),l=s.plus(n).toNumber(),i=.04*l/12,d=e.targetRetirementIncome*Math.pow(1+e.inflationRate,t),o=Math.max(0,d-i);let m=e.monthlyContribution;if(o>0){const t=new c(12*o/.04).div(new c(1+r).pow(a).minus(1)).mul(r).toNumber();m=e.monthlyContribution+t}const x=[];let g=e.currentSavings;for(let c=1;c<=t;c++){const t=12*e.monthlyContribution,a=g*e.expectedReturn;g=g+t+a,x.push({year:c,age:e.currentAge+c,balance:g,contribution:t,growth:a})}return{totalSavingsAtRetirement:l,monthlyIncomeAvailable:i,shortfall:o,recommendedMonthlyContribution:m,yearsToRetirement:t,projectionsByYear:x}}getMortgageCalculations(){return this.mortgageCalculations}calculateMortgage(e,t,a){const r=t/12,s=12*a,n=new c(e).mul(r).mul(new c(1+r).pow(s)).div(new c(1+r).pow(s).minus(1)).toNumber(),l=n*s,i=l-e,d=new Date;d.setMonth(d.getMonth()+s);const o=[];let m=e;const x=new Date;for(let c=1;c<=s;c++){const e=m*r,t=n-e;m=Math.max(0,m-t);const a=new Date(x);if(a.setMonth(a.getMonth()+c),o.push({paymentNumber:c,paymentDate:a,monthlyPayment:n,principalPayment:t,interestPayment:e,remainingBalance:m}),m<=0)break}const g={id:Date.now().toString(),loanAmount:e,interestRate:t,loanTermYears:a,monthlyPayment:n,totalInterest:i,totalCost:l,payoffDate:d,createdAt:new Date,amortizationSchedule:o};return this.mortgageCalculations.push(g),this.saveData(),g}deleteMortgageCalculation(e){const t=this.mortgageCalculations.findIndex(t=>t.id===e);return-1!==t&&(this.mortgageCalculations.splice(t,1),this.saveData(),!0)}getCollegePlans(){return this.collegePlans}addCollegePlan(e){const t={...e,id:Date.now().toString(),createdAt:new Date};return this.collegePlans.push(t),this.saveData(),t}updateCollegePlan(e,t){const a=this.collegePlans.findIndex(t=>t.id===e);return-1===a?null:(this.collegePlans[a]={...this.collegePlans[a],...t},this.saveData(),this.collegePlans[a])}deleteCollegePlan(e){const t=this.collegePlans.findIndex(t=>t.id===e);return-1!==t&&(this.collegePlans.splice(t,1),this.saveData(),!0)}calculateCollegeProjection(e){const t=e.collegeStartAge-e.currentAge,a=12*t,r=e.expectedReturn/12,s=new c(e.currentSavings).mul(new c(1+r).pow(a)),n=new c(e.monthlyContribution).mul(new c(1+r).pow(a).minus(1)).div(r),l=s.plus(n).toNumber(),i=e.estimatedCost*Math.pow(1+e.inflationRate,t),d=Math.max(0,i-l);let o=e.monthlyContribution;d>0&&(o=new c(d).div(new c(1+r).pow(a).minus(1)).mul(r).plus(e.monthlyContribution).toNumber());const m=[];let x=e.currentSavings;for(let c=1;c<=t;c++){const t=12*e.monthlyContribution,a=x*e.expectedReturn;x=x+t+a,m.push({year:c,childAge:e.currentAge+c,balance:x,contribution:t,growth:a})}return{totalSavingsAtCollegeStart:l,adjustedCollegeCost:i,shortfall:d,recommendedMonthlyContribution:o,yearsToCollegeStart:t,projectionsByYear:m}}getDebtPlans(){return this.debtPlans}addDebtPlan(e){const t={...e,id:Date.now().toString(),createdAt:new Date};return this.debtPlans.push(t),this.saveData(),t}updateDebtPlan(e,t){const a=this.debtPlans.findIndex(t=>t.id===e);return-1===a?null:(this.debtPlans[a]={...this.debtPlans[a],...t},this.saveData(),this.debtPlans[a])}deleteDebtPlan(e){const t=this.debtPlans.findIndex(t=>t.id===e);return-1!==t&&(this.debtPlans.splice(t,1),this.saveData(),!0)}calculateDebtPayoff(e){const t=e.interestRate/12,a=e.minimumPayment+e.additionalPayment;let r=e.currentBalance,s=0,n=0;const l=[];for(;r>0&&n<600;){n++;const e=r*t,i=Math.min(a-e,r);if(r=Math.max(0,r-i),s+=e,l.push({month:n,payment:i+e,principal:i,interest:e,remainingBalance:r}),r<=0)break}const i=e.currentBalance+s,d=new Date;return d.setMonth(d.getMonth()+n),{monthsToPayoff:n,totalInterest:s,totalPaid:i,payoffDate:d,paymentSchedule:l}}getFinancialGoals(){return this.financialGoals}addFinancialGoal(e){const t={...e,id:Date.now().toString(),createdAt:new Date};return this.financialGoals.push(t),this.saveData(),t}updateFinancialGoal(e,t){const a=this.financialGoals.findIndex(t=>t.id===e);return-1===a?null:(this.financialGoals[a]={...this.financialGoals[a],...t},this.saveData(),this.financialGoals[a])}deleteFinancialGoal(e){const t=this.financialGoals.findIndex(t=>t.id===e);return-1!==t&&(this.financialGoals.splice(t,1),this.saveData(),!0)}calculateGoalProjection(e){const t=new Date,a=Math.max(1,Math.ceil((e.targetDate.getTime()-t.getTime())/2592e6)),r=e.expectedReturn/12,s=new c(e.currentSavings).mul(new c(1+r).pow(a)),n=a>1?new c(e.monthlyContribution).mul(new c(1+r).pow(a).minus(1)).div(r):new c(e.monthlyContribution),l=s.plus(n).toNumber(),i=Math.max(0,e.targetAmount-l),d=i<=0;let o=e.monthlyContribution;i>0&&(o=new c(i).div(new c(1+r).pow(a).minus(1)).mul(r).plus(e.monthlyContribution).toNumber());const m=[];let x=e.currentSavings;for(let c=1;c<=Math.min(a,120);c++){const t=x*r;x=x+e.monthlyContribution+t,m.push({month:c,balance:x,contribution:e.monthlyContribution,growth:t})}return{projectedAmount:l,shortfall:i,monthsToGoal:a,recommendedMonthlyContribution:o,onTrack:d,projectionsByMonth:m}}getInsuranceNeeds(){return this.insuranceNeeds}addInsuranceNeed(e){const t={...e,id:Date.now().toString(),createdAt:new Date};return this.insuranceNeeds.push(t),this.saveData(),t}updateInsuranceNeed(e,t){const a=this.insuranceNeeds.findIndex(t=>t.id===e);return-1===a?null:(this.insuranceNeeds[a]={...this.insuranceNeeds[a],...t},this.saveData(),this.insuranceNeeds[a])}deleteInsuranceNeed(e){const t=this.insuranceNeeds.findIndex(t=>t.id===e);return-1!==t&&(this.insuranceNeeds.splice(t,1),this.saveData(),!0)}calculateNetWorthProjection(e,t,a,r,s){const n=t-a,l=r/12,i=[];let d=Math.max(0,e+1e5),c=Math.max(0,1e5-e);for(let m=1;m<=s;m++){for(let t=1;t<=12;t++)d=d+n+d*l,c*=.995;const e=d-c;i.push({year:m,netWorth:e,assets:d,liabilities:c})}const o=i[i.length-1]?.netWorth||e;return{currentNetWorth:e,projectedNetWorth:o,growthRate:(o-e)/e*100,timeframe:s,projectionsByYear:i}}exportFinancialPlan(){return{retirementPlans:this.retirementPlans,mortgageCalculations:this.mortgageCalculations,collegePlans:this.collegePlans,debtPlans:this.debtPlans,financialGoals:this.financialGoals,insuranceNeeds:this.insuranceNeeds}}};export{d as default};
