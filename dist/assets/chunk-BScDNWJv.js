function t(t,e){for(var r=0;r<e.length;r++){const n=e[r];if("string"!=typeof n&&!Array.isArray(n))for(const e in n)if("default"!==e&&!(e in t)){const r=Object.getOwnPropertyDescriptor(n,e);r&&Object.defineProperty(t,e,r.get?r:{enumerable:!0,get:()=>n[e]})}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}function e(){return O||(O=1,function(){var t=function(t){function e(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}function r(t,e,r,n){var a=e&&e.prototype instanceof o?e:o,i=Object.create(a.prototype),c=new h(n||[]);return v(i,"_invoke",{value:l(t,r,c)}),i}function n(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(n){return{type:"throw",arg:n}}}function o(){}function a(){}function i(){}function c(t){["next","throw","return"].forEach(function(r){e(t,r,function(t){return this._invoke(r,t)})})}function s(t,e){function r(o,a,i,c){var s=n(t[o],t,a);if("throw"!==s.type){var l=s.arg,u=l.value;return u&&"object"==typeof u&&w.call(u,"__await")?e.resolve(u.__await).then(function(t){r("next",t,i,c)},function(t){r("throw",t,i,c)}):e.resolve(u).then(function(t){l.value=t,i(l)},function(t){return r("throw",t,i,c)})}c(s.arg)}var o;v(this,"_invoke",{value:function(t,n){function a(){return new e(function(e,o){r(t,n,e,o)})}return o=o?o.then(a,a):a()}})}function l(t,e,r){var o=O;return function(a,i){if(o===_)throw new Error("Generator is already running");if(o===T){if("throw"===a)throw i;return g()}for(r.method=a,r.arg=i;;){var c=r.delegate;if(c){var s=u(c,r);if(s){if(s===k)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===O)throw o=T,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=_;var l=n(t,e,r);if("normal"===l.type){if(o=r.done?T:A,l.arg===k)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(o=T,r.method="throw",r.arg=l.arg)}}}function u(t,e){var r=e.method,o=t.iterator[r];if(o===y)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=y,u(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),k;var a=n(o,t.iterator,e.arg);if("throw"===a.type)return e.method="throw",e.arg=a.arg,e.delegate=null,k;var i=a.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=y),e.delegate=null,k):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,k)}function f(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function d(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function h(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(f,this),this.reset(!0)}function p(t){if(t){var e=t[E];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,n=function e(){for(;++r<t.length;)if(w.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=y,e.done=!0,e};return n.next=n}}return{next:g}}function g(){return{value:y,done:!0}}var y,m=Object.prototype,w=m.hasOwnProperty,v=Object.defineProperty||function(t,e,r){t[e]=r.value},L="function"==typeof Symbol?Symbol:{},E=L.iterator||"@@iterator",b=L.asyncIterator||"@@asyncIterator",S=L.toStringTag||"@@toStringTag";try{e({},"")}catch(j){e=function(t,e,r){return t[e]=r}}t.wrap=r;var O="suspendedStart",A="suspendedYield",_="executing",T="completed",k={},N={};e(N,E,function(){return this});var R=Object.getPrototypeOf,P=R&&R(R(p([])));P&&P!==m&&w.call(P,E)&&(N=P);var I=i.prototype=o.prototype=Object.create(N);return a.prototype=i,v(I,"constructor",{value:i,configurable:!0}),v(i,"constructor",{value:a,configurable:!0}),a.displayName=e(i,S,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===a||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,i):(t.__proto__=i,e(t,S,"GeneratorFunction")),t.prototype=Object.create(I),t},t.awrap=function(t){return{__await:t}},c(s.prototype),e(s.prototype,b,function(){return this}),t.AsyncIterator=s,t.async=function(e,n,o,a,i){void 0===i&&(i=Promise);var c=new s(r(e,n,o,a),i);return t.isGeneratorFunction(n)?c:c.next().then(function(t){return t.done?t.value:c.next()})},c(I),e(I,S,"Generator"),e(I,E,function(){return this}),e(I,"toString",function(){return"[object Generator]"}),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=p,h.prototype={constructor:h,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=y,this.done=!1,this.delegate=null,this.method="next",this.arg=y,this.tryEntries.forEach(d),!t)for(var e in this)"t"===e.charAt(0)&&w.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=y)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){function e(e,n){return a.type="throw",a.arg=t,r.next=e,n&&(r.method="next",r.arg=y),!!n}if(this.done)throw t;for(var r=this,n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n],a=o.completion;if("root"===o.tryLoc)return e("end");if(o.tryLoc<=this.prev){var i=w.call(o,"catchLoc"),c=w.call(o,"finallyLoc");if(i&&c){if(this.prev<o.catchLoc)return e(o.catchLoc,!0);if(this.prev<o.finallyLoc)return e(o.finallyLoc)}else if(i){if(this.prev<o.catchLoc)return e(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return e(o.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&w.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,k):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),k},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),d(r),k}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;d(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:p(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=y),k}},t}(F.exports);try{regeneratorRuntime=t}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}}()),F.exports}function r(){return _?A:(_=1,A=(t,e)=>`${t}-${e}-${Math.random().toString(16).slice(3,8)}`)}function n(){if(k)return T;k=1;const t=r();let e=0;return T=({id:r,action:n,payload:o={}})=>{let a=r;return void 0===a&&(a=t("Job",e),e+=1),{id:a,action:n,payload:o}}}function o(){if(N)return G;N=1;let t=!1;return G.logging=t,G.setLogging=e=>{t=e},G.log=(...e)=>t?console.log.apply(this,e):null,G}function a(){if(P)return R;P=1;const t=n(),{log:e}=o(),a=r();let i=0;return R=()=>{const r=a("Scheduler",i),n={},o={};let c=[];i+=1;const s=()=>Object.keys(n).length,l=()=>{if(0!==c.length){const t=Object.keys(n);for(let e=0;e<t.length;e+=1)if(void 0===o[t[e]]){c[0](n[t[e]]);break}}},u=(n,a)=>new Promise((i,s)=>{const u=t({action:n,payload:a});c.push(async t=>{c.shift(),o[t.id]=u;try{i(await t[n].apply(this,[...a,u.id]))}catch(e){s(e)}finally{delete o[t.id],l()}}),e(`[${r}]: Add ${u.id} to JobQueue`),e(`[${r}]: JobQueue length=${c.length}`),l()});return{addWorker:t=>(n[t.id]=t,e(`[${r}]: Add ${t.id}`),e(`[${r}]: Number of workers=${s()}`),l(),t.id),addJob:async(t,...e)=>{if(0===s())throw Error(`[${r}]: You need to have at least one worker before adding jobs`);return u(t,e)},terminate:async()=>{Object.keys(n).forEach(async t=>{await n[t].terminate()}),c=[]},getQueueLen:()=>c.length,getNumWorkers:s}}}function i(){return j?I:(j=1,I=t=>{const e={};return"undefined"!=typeof WorkerGlobalScope?e.type="webworker":"object"==typeof document?e.type="browser":"object"==typeof process&&"function"==typeof S&&(e.type="node"),void 0===t?e:e[t]})}function c(){if(x)return M;x=1;const t="browser"===i()("type")?t=>new URL(t,window.location.href).href:t=>t;return M=e=>{const r={...e};return["corePath","workerPath","langPath"].forEach(n=>{e[n]&&(r[n]=t(r[n]))}),r}}function s(){return U?C:(U=1,C={TESSERACT_ONLY:0,LSTM_ONLY:1,TESSERACT_LSTM_COMBINED:2,DEFAULT:3})}function l(){return B?$:(B=1,$={workerBlobURL:!0,logger:()=>{}})}function u(){if(z)return Y;z=1;const t=D;return Y={...l(),workerPath:`https://cdn.jsdelivr.net/npm/tesseract.js@v${t}/dist/worker.min.js`}}function f(){return W?K:(W=1,K=({workerPath:t,workerBlobURL:e})=>{let r;if(Blob&&URL&&e){const e=new Blob([`importScripts("${t}");`],{type:"application/javascript"});r=new Worker(URL.createObjectURL(e))}else r=new Worker(t);return r})}function d(){return J?H:(J=1,H=t=>{t.terminate()})}function h(){return Z?V:(Z=1,V=(t,e)=>{t.onmessage=({data:t})=>{e(t)}})}function p(){return q?Q:(q=1,Q=async(t,e)=>{t.postMessage(e)})}function g(){if(tt)return X;tt=1;const t=t=>new Promise((e,r)=>{const n=new FileReader;n.onload=()=>{e(n.result)},n.onerror=({target:{error:{code:t}}})=>{r(Error(`File could not be read! Code=${t}`))},n.readAsArrayBuffer(t)}),e=async r=>{let n=r;if(void 0===r)return"undefined";if("string"==typeof r)if(/data:image\/([a-zA-Z]*);base64,([^"]*)/.test(r))n=atob(r.split(",")[1]).split("").map(t=>t.charCodeAt(0));else{const t=await fetch(r);n=await t.arrayBuffer()}else if("undefined"!=typeof HTMLElement&&r instanceof HTMLElement)"IMG"===r.tagName&&(n=await e(r.src)),"VIDEO"===r.tagName&&(n=await e(r.poster)),"CANVAS"===r.tagName&&await new Promise(e=>{r.toBlob(async r=>{n=await t(r),e()})});else if("undefined"!=typeof OffscreenCanvas&&r instanceof OffscreenCanvas){const e=await r.convertToBlob();n=await t(e)}else(r instanceof File||r instanceof Blob)&&(n=await t(r));return new Uint8Array(n)};return X=e}function y(){return rt?et:(rt=1,et={defaultOptions:u(),spawnWorker:f(),terminateWorker:d(),onMessage:h(),send:p(),loadImage:g()})}function m(){if(ot)return nt;ot=1;const t=c(),e=n(),{log:a}=o(),i=r(),l=s(),{defaultOptions:u,spawnWorker:f,terminateWorker:d,onMessage:h,loadImage:p,send:g}=y();let m=0;return nt=async(r="eng",n=l.LSTM_ONLY,o={},c={})=>{const s=i("Worker",m),{logger:y,errorHandler:w,...v}=t({...u,...o}),L={},E="string"==typeof r?r.split("+"):r;let b=n,S=c;const O=[l.DEFAULT,l.LSTM_ONLY].includes(n)&&!v.legacyCore;let A,_;const T=new Promise((t,e)=>{_=t,A=e});let k=f(v);k.onerror=t=>{A(t.message)},m+=1;const N=({id:t,action:e,payload:r})=>new Promise((n,o)=>{a(`[${s}]: Start ${t}, action=${e}`),L[`${e}-${t}`]={resolve:n,reject:o},g(k,{workerId:s,jobId:t,action:e,payload:r})}),R=(t,r)=>N(e({id:r,action:"loadLanguage",payload:{langs:t,options:{langPath:v.langPath,dataPath:v.dataPath,cachePath:v.cachePath,cacheMethod:v.cacheMethod,gzip:v.gzip,lstmOnly:[l.DEFAULT,l.LSTM_ONLY].includes(b)&&!v.legacyLang}}})),P=(t,r,n,o)=>N(e({id:o,action:"initialize",payload:{langs:t,oem:r,config:n}}));h(k,({workerId:t,jobId:e,status:r,action:n,data:o})=>{const i=`${n}-${e}`;if("resolve"===r)a(`[${t}]: Complete ${e}`),L[i].resolve({jobId:e,data:o}),delete L[i];else if("reject"===r){if(L[i].reject(o),delete L[i],"load"===n&&A(o),!w)throw Error(o);w(o)}else"progress"===r&&y({...o,userJobId:e})});const I={id:s,worker:k,load:()=>console.warn("`load` is depreciated and should be removed from code (workers now come pre-loaded)"),writeText:(t,r,n)=>N(e({id:n,action:"FS",payload:{method:"writeFile",args:[t,r]}})),readText:(t,r)=>N(e({id:r,action:"FS",payload:{method:"readFile",args:[t,{encoding:"utf8"}]}})),removeFile:(t,r)=>N(e({id:r,action:"FS",payload:{method:"unlink",args:[t]}})),FS:(t,r,n)=>N(e({id:n,action:"FS",payload:{method:t,args:r}})),reinitialize:(t="eng",e,r,n)=>{if(O&&[l.TESSERACT_ONLY,l.TESSERACT_LSTM_COMBINED].includes(e))throw Error("Legacy model requested but code missing.");const o=e||b;b=o;const a=r||S;S=a;const i=("string"==typeof t?t.split("+"):t).filter(t=>!E.includes(t));return E.push(...i),i.length>0?R(i,n).then(()=>P(t,o,a,n)):P(t,o,a,n)},setParameters:(t={},r)=>N(e({id:r,action:"setParameters",payload:{params:t}})),recognize:async(t,r={},n={text:!0},o)=>N(e({id:o,action:"recognize",payload:{image:await p(t),options:r,output:n}})),detect:async(t,r)=>{if(O)throw Error("`worker.detect` requires Legacy model, which was not loaded.");return N(e({id:r,action:"detect",payload:{image:await p(t)}}))},terminate:async()=>(null!==k&&(d(k),k=null),Promise.resolve())};return N(e({id:undefined,action:"load",payload:{options:{lstmOnly:O,corePath:v.corePath,logging:v.logging}}})).then(()=>R(r)).then(()=>P(r,n,c)).then(()=>_(I)).catch(()=>{}),T}}function w(){if(it)return at;it=1;const t=m();return at={recognize:async(e,r,n)=>{const o=await t(r,1,n);return o.recognize(e).finally(async()=>{await o.terminate()})},detect:async(e,r)=>{const n=await t("osd",0,r);return n.detect(e).finally(async()=>{await n.terminate()})}}}function v(){return st?ct:(st=1,ct={AFR:"afr",AMH:"amh",ARA:"ara",ASM:"asm",AZE:"aze",AZE_CYRL:"aze_cyrl",BEL:"bel",BEN:"ben",BOD:"bod",BOS:"bos",BUL:"bul",CAT:"cat",CEB:"ceb",CES:"ces",CHI_SIM:"chi_sim",CHI_TRA:"chi_tra",CHR:"chr",CYM:"cym",DAN:"dan",DEU:"deu",DZO:"dzo",ELL:"ell",ENG:"eng",ENM:"enm",EPO:"epo",EST:"est",EUS:"eus",FAS:"fas",FIN:"fin",FRA:"fra",FRK:"frk",FRM:"frm",GLE:"gle",GLG:"glg",GRC:"grc",GUJ:"guj",HAT:"hat",HEB:"heb",HIN:"hin",HRV:"hrv",HUN:"hun",IKU:"iku",IND:"ind",ISL:"isl",ITA:"ita",ITA_OLD:"ita_old",JAV:"jav",JPN:"jpn",KAN:"kan",KAT:"kat",KAT_OLD:"kat_old",KAZ:"kaz",KHM:"khm",KIR:"kir",KOR:"kor",KUR:"kur",LAO:"lao",LAT:"lat",LAV:"lav",LIT:"lit",MAL:"mal",MAR:"mar",MKD:"mkd",MLT:"mlt",MSA:"msa",MYA:"mya",NEP:"nep",NLD:"nld",NOR:"nor",ORI:"ori",PAN:"pan",POL:"pol",POR:"por",PUS:"pus",RON:"ron",RUS:"rus",SAN:"san",SIN:"sin",SLK:"slk",SLV:"slv",SPA:"spa",SPA_OLD:"spa_old",SQI:"sqi",SRP:"srp",SRP_LATN:"srp_latn",SWA:"swa",SWE:"swe",SYR:"syr",TAM:"tam",TEL:"tel",TGK:"tgk",TGL:"tgl",THA:"tha",TIR:"tir",TUR:"tur",UIG:"uig",UKR:"ukr",URD:"urd",UZB:"uzb",UZB_CYRL:"uzb_cyrl",VIE:"vie",YID:"yid"})}function L(){return ut?lt:(ut=1,lt={OSD_ONLY:"0",AUTO_OSD:"1",AUTO_ONLY:"2",AUTO:"3",SINGLE_COLUMN:"4",SINGLE_BLOCK_VERT_TEXT:"5",SINGLE_BLOCK:"6",SINGLE_LINE:"7",SINGLE_WORD:"8",CIRCLE_WORD:"9",SINGLE_CHAR:"10",SPARSE_TEXT:"11",SPARSE_TEXT_OSD:"12",RAW_LINE:"13"})}function E(){if(dt)return ft;dt=1,e();const t=a(),r=m(),n=w(),i=v(),c=s(),l=L(),{setLogging:u}=o();return ft={languages:i,OEM:c,PSM:l,createScheduler:t,createWorker:r,setLogging:u,...n}}import{g as b}from"./chunk-BWx9oMeS.js";import{ch as S}from"./index-CgJz7Gw0.js";var O,A,_,T,k,N,R,P,I,j,M,x,C,U,F={exports:{}},G={};const D="6.0.1";var $,B,Y,z,K,W,H,J,V,Z,Q,q,X,tt,et,rt,nt,ot,at,it,ct,st,lt,ut,ft,dt,ht=E();const pt=t({__proto__:null,default:b(ht)},[ht]);export{pt as i};
