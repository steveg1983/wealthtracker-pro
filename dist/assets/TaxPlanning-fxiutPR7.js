function e(){const{transactions:e,accounts:t,investments:r}=n(),{formatCurrency:h}=j(),[p,y]=a.useState("overview"),[f,v]=a.useState((new Date).getFullYear()),[k,w]=a.useState(null),[T,D]=a.useState([]),[C,R]=a.useState([]),[z,S]=a.useState([]),[E,I]=a.useState(!1);a.useEffect(()=>{F()},[e,t,r,f]);const F=async()=>{I(!0);try{const a=N.estimateTaxes(e,t,f),s=N.trackDeductibleExpenses(e,f),i=N.suggestOptimizations(e,t,r||[]),n=N.calculateCapitalGains(r||[]);w(a),D(s),R(i),S(n)}finally{I(!1)}},M=[{id:"overview",label:"Overview",icon:o},{id:"deductions",label:"Deductions",icon:c},{id:"capital-gains",label:"Capital Gains",icon:m},{id:"optimizations",label:"Tax Strategies",icon:x}],L=Array.from({length:5},(e,t)=>(new Date).getFullYear()-t);return s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"bg-gradient-to-r from-green-600 to-emerald-600 rounded-2xl p-6 text-white",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Tax Planning Center"}),s.jsx("p",{className:"text-green-100",children:"Track deductions, estimate taxes, and optimize your tax strategy"})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("select",{value:f,onChange:e=>v(Number(e.target.value)),className:"px-4 py-2 bg-white/20 border border-white/30 rounded-lg text-white focus:bg-white/30 focus:outline-none",children:L.map(e=>s.jsxs("option",{value:e,className:"text-gray-900",children:[e," Tax Year"]},e))}),s.jsxs("button",{onClick:()=>{const a=N.generateTaxReport(e,t,r||[],f),s=`Tax Report ${f}\n\nIncome: ${h(a.summary.income)}\nDeductions: ${h(a.summary.deductions)}\nTaxable Income: ${h(a.summary.taxableIncome)}\nEstimated Tax: ${h(a.summary.estimatedTax)}\n`,i=new Blob([s],{type:"text/csv"}),n=URL.createObjectURL(i),d=document.createElement("a");d.href=n,d.download=`tax-report-${f}.csv`,d.click()},className:"flex items-center gap-2 px-4 py-2 bg-white text-green-600 rounded-lg hover:bg-green-50 transition-colors",children:[s.jsx(d,{size:16}),"Export Report"]})]})]})}),k&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Income"}),s.jsx(l,{size:20,className:"text-green-600 dark:text-green-400"})]}),s.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:h(k.income)})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Deductions"}),s.jsx(c,{size:20,className:"text-blue-600 dark:text-blue-400"})]}),s.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:h(k.deductions)})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Estimated Tax"}),s.jsx(o,{size:20,className:"text-red-600 dark:text-red-400"})]}),s.jsx("p",{className:"text-2xl font-bold text-red-600 dark:text-red-400",children:h(k.estimatedTax)}),s.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:["Effective rate: ",k.effectiveRate.toFixed(1),"%"]})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Tax Savings"}),s.jsx(x,{size:20,className:"text-purple-600 dark:text-purple-400"})]}),s.jsx("p",{className:"text-2xl font-bold text-purple-600 dark:text-purple-400",children:h(C.reduce((e,t)=>e.plus(t.potentialSavings),i(0)))}),s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Potential savings"})]})]}),s.jsx("div",{className:"flex gap-2 bg-gray-100 dark:bg-gray-800 p-1 rounded-lg",children:M.map(e=>{const t=e.icon;return s.jsxs("button",{onClick:()=>y(e.id),className:"flex-1 px-4 py-2 rounded-lg transition-colors flex items-center justify-center gap-2 "+(p===e.id?"bg-white dark:bg-gray-700 text-primary shadow":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white"),children:[s.jsx(t,{size:16}),s.jsx("span",{children:e.label})]},e.id)})}),s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow p-6",children:E?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Calculating taxes..."})]})}):s.jsxs(s.Fragment,{children:["overview"===p&&k&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"border border-gray-200 dark:border-gray-700 rounded-xl p-6",children:[s.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-4",children:"Tax Calculation Summary"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Gross Income"}),s.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:h(k.income)})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Total Deductions"}),s.jsxs("span",{className:"font-medium text-gray-900 dark:text-white",children:["-",h(k.deductions)]})]}),s.jsx("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-3",children:s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Taxable Income"}),s.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:h(k.taxableIncome)})]})}),s.jsx("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-3",children:s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:"Estimated Federal Tax"}),s.jsx("span",{className:"font-bold text-red-600 dark:text-red-400",children:h(k.estimatedTax)})]})})]})]}),s.jsxs("div",{className:"border border-gray-200 dark:border-gray-700 rounded-xl p-6",children:[s.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-4",children:"Tax Rates"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between mb-2",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Effective Tax Rate"}),s.jsxs("span",{className:"font-bold text-2xl text-gray-900 dark:text-white",children:[k.effectiveRate.toFixed(1),"%"]})]}),s.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-3",children:s.jsx("div",{className:"bg-green-600 h-3 rounded-full",style:{width:`${Math.min(k.effectiveRate,100)}%`}})})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between mb-2",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Marginal Tax Rate"}),s.jsxs("span",{className:"font-bold text-2xl text-gray-900 dark:text-white",children:[k.marginalRate,"%"]})]}),s.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-3",children:s.jsx("div",{className:"bg-blue-600 h-3 rounded-full",style:{width:k.marginalRate/37*100+"%"}})})]})]})]})]}),k.quarterlyPayments&&s.jsxs("div",{className:"border border-gray-200 dark:border-gray-700 rounded-xl p-6",children:[s.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-4",children:"Estimated Quarterly Payments"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:k.quarterlyPayments.map((e,t)=>s.jsxs("div",{className:"text-center",children:[s.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:["Q",t+1," ",f]}),s.jsx("p",{className:"text-lg font-bold text-gray-900 dark:text-white",children:h(e)})]},t))})]})]}),"deductions"===p&&s.jsx("div",{className:"space-y-4",children:T.length>0?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-4 mb-4",children:s.jsxs("p",{className:"text-sm text-blue-800 dark:text-blue-200",children:[s.jsx("strong",{children:"Tip:"})," Keep receipts and documentation for all deductible expenses. The IRS may request proof during an audit."]})}),T.map(e=>s.jsx("div",{className:"border border-gray-200 dark:border-gray-700 rounded-xl p-4",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-1",children:e.description}),s.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[e.transactionIds.length," transactions"]}),e.documentation&&s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:e.documentation})]}),s.jsx("div",{className:"text-right",children:s.jsx("p",{className:"text-lg font-bold text-green-600 dark:text-green-400",children:h(e.amount)})})]})},e.id))]}):s.jsxs("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:[s.jsx(c,{size:48,className:"mx-auto mb-3 opacity-50"}),s.jsxs("p",{children:["No deductible expenses found for ",f,"."]}),s.jsx("p",{className:"text-sm mt-2",children:"Start categorizing your expenses to track deductions."})]})}),"capital-gains"===p&&s.jsx("div",{className:"space-y-4",children:z.length>0?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[s.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 rounded-lg p-4",children:[s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Gains"}),s.jsx("p",{className:"text-xl font-bold text-green-600 dark:text-green-400",children:h(z.filter(e=>e.gain.greaterThan(0)).reduce((e,t)=>e.plus(t.gain),i(0)))})]}),s.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 rounded-lg p-4",children:[s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Losses"}),s.jsx("p",{className:"text-xl font-bold text-red-600 dark:text-red-400",children:h(z.filter(e=>e.gain.lessThan(0)).reduce((e,t)=>e.plus(t.gain.abs()),i(0)))})]}),s.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-4",children:[s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Est. Tax Impact"}),s.jsx("p",{className:"text-xl font-bold text-blue-600 dark:text-blue-400",children:h(z.reduce((e,t)=>e.plus(t.estimatedTax),i(0)))})]})]}),z.map(e=>s.jsx("div",{className:"border border-gray-200 dark:border-gray-700 rounded-xl p-4",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-1",children:e.investmentName}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-2 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Cost Basis: "}),s.jsx("span",{className:"font-medium",children:h(e.costBasis)})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Current Value: "}),s.jsx("span",{className:"font-medium",children:h(e.currentValue)})]})]}),s.jsx("div",{className:"mt-2",children:s.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs "+("long-term"===e.type?"bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-200":"bg-yellow-100 dark:bg-yellow-900/30 text-yellow-800 dark:text-yellow-200"),children:[e.type," \u2022 ",e.taxRate,"% rate"]})})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("p",{className:"text-lg font-bold "+(e.gain.greaterThan(0)?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"),children:[e.gain.greaterThan(0)?"+":"",h(e.gain)]}),s.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:["Tax: ",h(e.estimatedTax)]})]})]})},e.investmentId))]}):s.jsxs("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:[s.jsx(m,{size:48,className:"mx-auto mb-3 opacity-50"}),s.jsx("p",{children:"No investments found to calculate capital gains."})]})}),"optimizations"===p&&s.jsx("div",{className:"space-y-4",children:C.length>0?C.map(e=>s.jsx("div",{className:"border border-gray-200 dark:border-gray-700 rounded-xl p-6",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"p-3 rounded-lg "+("retirement"===e.category?"bg-purple-100 dark:bg-purple-900/30":"investment"===e.category?"bg-blue-100 dark:bg-blue-900/30":"charitable"===e.category?"bg-green-100 dark:bg-green-900/30":"bg-gray-100 dark:bg-gray-700"),children:s.jsx(x,{size:24,className:"retirement"===e.category?"text-purple-600 dark:text-purple-400":"investment"===e.category?"text-blue-600 dark:text-blue-400":"charitable"===e.category?"text-green-600 dark:text-green-400":"text-gray-600 dark:text-gray-400"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-2",children:e.title}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm mb-3",children:e.description}),s.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[s.jsxs("span",{className:"text-green-600 dark:text-green-400 font-medium",children:["Save ",h(e.potentialSavings)]}),e.deadline&&s.jsxs("span",{className:"text-gray-500 dark:text-gray-400 flex items-center gap-1",children:[s.jsx(u,{size:14}),"By ",b(e.deadline,"MMM d, yyyy")]})]}),s.jsx("div",{className:"mt-3",children:s.jsx("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 text-sm",children:e.actionRequired})})]})]})},e.id)):s.jsxs("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:[s.jsx(g,{size:48,className:"mx-auto mb-3 opacity-50"}),s.jsx("p",{children:"Your tax strategy is well optimized!"}),s.jsx("p",{className:"text-sm mt-2",children:"We'll notify you when new optimization opportunities arise."})]})})]})})]})}function t(){return s.jsx(r,{title:"Tax Planning",rightContent:s.jsx("div",{className:"cursor-pointer",title:"Tax Planning & Optimization",children:s.jsxs("svg",{width:"48",height:"48",viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg",className:"transition-all duration-200 hover:scale-110 drop-shadow-lg hover:drop-shadow-xl",style:{filter:"drop-shadow(0 4px 6px rgba(0, 0, 0, 0.1))"},children:[s.jsx("circle",{cx:"24",cy:"24",r:"24",fill:"#D4F4DD",className:"transition-all duration-200",onMouseEnter:e=>e.currentTarget.setAttribute("fill","#C3E9D0"),onMouseLeave:e=>e.currentTarget.setAttribute("fill","#D4F4DD")}),s.jsx("g",{transform:"translate(12, 12)",children:s.jsx(o,{size:24,className:"text-green-600"})})]})}),children:s.jsx(e,{})})}import{r as a,H as s}from"./chunk-DowOIOga.js";import{P as r}from"./chunk-r7IQz9KP.js";import{t as i,a as n,ay as d,ak as l,aH as c,f as o,n as x,T as m,C as u,v as g}from"./index-qHm2isZb.js";import{k as h,j as p,i as y,f as b}from"./chunk-B5pcS96K.js";import{u as j}from"./chunk-ByFoKVyi.js";import"./chunk-ddLY9KjI.js";const f=[{id:"mortgage-interest",name:"Mortgage Interest",description:"Interest paid on mortgage loans",deductible:!0,form:"1098"},{id:"property-tax",name:"Property Tax",description:"State and local property taxes",deductible:!0,maxDeduction:i(1e4)},{id:"charitable",name:"Charitable Donations",description:"Donations to qualified charitable organizations",deductible:!0},{id:"medical",name:"Medical Expenses",description:"Qualified medical and dental expenses",deductible:!0},{id:"business-expenses",name:"Business Expenses",description:"Expenses related to self-employment or business",deductible:!0,form:"Schedule C"},{id:"education",name:"Education Expenses",description:"Qualified education expenses and student loan interest",deductible:!0},{id:"retirement",name:"Retirement Contributions",description:"Contributions to traditional IRA, 401(k), etc.",deductible:!0},{id:"hsa",name:"HSA Contributions",description:"Health Savings Account contributions",deductible:!0,maxDeduction:i(3850)}],N=new class{estimateTaxes(e,t,a=(new Date).getFullYear()){const s=h(new Date(a,0,1)),r=p(new Date(a,11,31)),n=e.filter(e=>y(new Date(e.date),{start:s,end:r})),d=n.filter(e=>"income"===e.type).reduce((e,t)=>e.plus(i(t.amount)),i(0)),l=this.calculateDeductions(n),c=i(13850),o=l.greaterThan(c)?l:c,x=d.minus(o).greaterThan(0)?d.minus(o):i(0),m=this.calculateFederalTax(x),u=d.greaterThan(0)?m.dividedBy(d).times(100).toNumber():0;return{income:d,deductions:o,taxableIncome:x,estimatedTax:m,effectiveRate:u,marginalRate:this.getMarginalTaxRate(x),quarterlyPayments:this.calculateQuarterlyPayments(m)}}trackDeductibleExpenses(e,t=(new Date).getFullYear()){const a=[],s=h(new Date(t,0,1)),r=p(new Date(t,11,31)),n=e.filter(e=>"expense"===e.type&&y(new Date(e.date),{start:s,end:r})),d=new Map;return n.forEach(e=>{const t=this.identifyTaxCategory(e);t&&(d.has(t.id)||d.set(t.id,[]),d.get(t.id).push(e))}),d.forEach((e,s)=>{const r=f.find(e=>e.id===s);if(r){const n=e.reduce((e,t)=>e.plus(i(t.amount)),i(0));a.push({id:`deduction-${s}-${t}`,categoryId:s,description:r.name,amount:n,date:new Date,transactionIds:e.map(e=>e.id),documentation:`${e.length} transactions totaling ${n}`})}}),a}suggestOptimizations(e,t,a){const s=[],r=(new Date).getFullYear(),n=p(new Date(r,11,31)),d=this.calculateRetirementContributions(e,r),l=i(23e3);if(d.lessThan(l)){const e=l.minus(d);s.push({id:"opt-retirement",title:"Maximize Retirement Contributions",description:`You can contribute ${e} more to reduce taxable income`,potentialSavings:e.times(.24),deadline:n,actionRequired:"Increase 401(k) contribution percentage",category:"retirement"})}const c=this.calculateCapitalGains(a);if(c.filter(e=>"unrealized"!==e.type).reduce((e,t)=>e.plus(t.gain),i(0)).greaterThan(0)){const e=c.filter(e=>e.gain.lessThan(0)&&"unrealized"===e.type);if(e.length>0){const t=e.reduce((e,t)=>e.plus(t.gain.abs()),i(0));s.push({id:"opt-harvest",title:"Tax-Loss Harvesting Opportunity",description:"Sell losing investments to offset capital gains",potentialSavings:t.times(.15),deadline:n,actionRequired:"Review and sell underperforming investments",category:"investment"})}}const o=this.calculateCharitableDeductions(e,r);o.greaterThan(0)&&o.lessThan(1e4)&&s.push({id:"opt-charitable",title:"Bundle Charitable Donations",description:"Consider bunching 2 years of donations to exceed standard deduction",potentialSavings:o.times(.24),actionRequired:"Make next year's planned donations before year-end",category:"charitable"});const x=this.calculateHSAContributions(e,r),m=i(3850);if(x.lessThan(m)){const e=m.minus(x);s.push({id:"opt-hsa",title:"Max Out HSA Contributions",description:"Triple tax advantage: deductible, grows tax-free, tax-free withdrawals",potentialSavings:e.times(.24),deadline:new Date(r+1,3,15),actionRequired:"Increase HSA contributions",category:"other"})}return s}calculateCapitalGains(e){const t=[],a=new Date;return e.forEach(e=>{const s=i(e.costBasis||e.quantity*e.averageCost),r=i(e.currentValue),n=r.minus(s),d=new Date(e.purchaseDate||e.createdAt),l=(a.getTime()-d.getTime())/864e5>365?.15:.24,c=n.greaterThan(0)?n.times(l):i(0);t.push({investmentId:e.id,investmentName:e.name,purchaseDate:d,costBasis:s,currentValue:r,gain:n,type:"unrealized",taxRate:100*l,estimatedTax:c})}),t}generateTaxReport(e,t,a,s){return{year:s,summary:this.estimateTaxes(e,t,s),deductions:this.trackDeductibleExpenses(e,s),capitalGains:this.calculateCapitalGains(a),optimizations:this.suggestOptimizations(e,t,a),generatedDate:new Date}}calculateFederalTax(e){const t=[{min:0,max:11e3,rate:.1},{min:11e3,max:44725,rate:.12},{min:44725,max:95375,rate:.22},{min:95375,max:182050,rate:.24},{min:182050,max:231250,rate:.32},{min:231250,max:578125,rate:.35},{min:578125,max:1/0,rate:.37}];let a=i(0);const s=e.toNumber();for(const r of t)if(s>r.min){const e=Math.min(s-r.min,r.max-r.min);a=a.plus(i(e*r.rate))}return a}getMarginalTaxRate(e){const t=e.toNumber();return t<=11e3?10:t<=44725?12:t<=95375?22:t<=182050?24:t<=231250?32:t<=578125?35:37}calculateQuarterlyPayments(e){const t=e.dividedBy(4);return[t,t,t,t]}calculateDeductions(e){return e.filter(e=>null!==this.identifyTaxCategory(e)).reduce((e,t)=>e.plus(i(t.amount)),i(0))}identifyTaxCategory(e){const t=e.description.toLowerCase();return t.includes("mortgage")&&t.includes("interest")?f.find(e=>"mortgage-interest"===e.id)||null:t.includes("property tax")||t.includes("real estate tax")?f.find(e=>"property-tax"===e.id)||null:t.includes("charity")||t.includes("donation")?f.find(e=>"charitable"===e.id)||null:(t.includes("medical")||t.includes("doctor")||t.includes("hospital"))&&f.find(e=>"medical"===e.id)||null}calculateRetirementContributions(e,t){return e.filter(e=>"expense"===e.type&&new Date(e.date).getFullYear()===t&&(e.description.toLowerCase().includes("401k")||e.description.toLowerCase().includes("ira")||e.description.toLowerCase().includes("retirement"))).reduce((e,t)=>e.plus(i(t.amount)),i(0))}calculateCharitableDeductions(e,t){return e.filter(e=>"expense"===e.type&&new Date(e.date).getFullYear()===t&&(e.description.toLowerCase().includes("charity")||e.description.toLowerCase().includes("donation"))).reduce((e,t)=>e.plus(i(t.amount)),i(0))}calculateHSAContributions(e,t){return e.filter(e=>"expense"===e.type&&new Date(e.date).getFullYear()===t&&e.description.toLowerCase().includes("hsa")).reduce((e,t)=>e.plus(i(t.amount)),i(0))}};export{t as default};
