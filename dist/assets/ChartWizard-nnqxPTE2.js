const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/chunk-oUGr0aFc.js","assets/chunk-Bcp2Zi4E.js","assets/chunk-a7oqB5tI.js","assets/vendor-B-C1h4S3.css"])))=>i.map(i=>d[i]);
function e({data:e,onSave:a,onCancel:s}){const[i,l]=t.useState(null),[n,c]=t.useState(""),[d,p]=t.useState(null),[u,h]=t.useState({}),[g]=t.useState({});t.useState(!1),t.useEffect(()=>{i&&e&&y()},[i,e]);const y=()=>{const a=b.find(e=>e.type===i);if(!a)return;let t=[];const r={title:n||`${a.name} Analysis`,showlegend:!0,hovermode:"closest",paper_bgcolor:"rgba(0,0,0,0)",plot_bgcolor:"rgba(0,0,0,0)",font:{color:"#6b7280"},margin:{t:40,r:20,b:40,l:60}};switch(i){case"line":case"multi-line":t=[{type:"scatter",mode:"lines+markers",x:e.labels||e.x,y:e.values||e.y,name:e.name||"Series 1",line:{shape:"spline",smoothing:1.3}}];break;case"area":case"stacked-area":t=[{type:"scatter",mode:"lines",x:e.labels||e.x,y:e.values||e.y,fill:"tozeroy",fillcolor:"rgba(59, 130, 246, 0.3)",line:{color:"#3b82f6"}}];break;case"bar":case"grouped-bar":case"stacked-bar":t=[{type:"bar",x:e.labels||e.categories,y:e.values||e.amounts,marker:{color:"#3b82f6",line:{width:1,color:"rgba(0,0,0,0.1)"}}}],"stacked-bar"===i?r.barmode="stack":"grouped-bar"===i&&(r.barmode="group");break;case"horizontal-bar":t=[{type:"bar",orientation:"h",y:e.labels||e.categories,x:e.values||e.amounts,marker:{color:"#3b82f6"}}];break;case"pie":case"donut":t=[{type:"pie",labels:e.labels||e.categories,values:e.values||e.amounts,hole:"donut"===i?.4:0,textposition:"inside",textinfo:"label+percent"}];break;case"scatter":case"bubble":t=[{type:"scatter",mode:"markers",x:e.x||e.xValues,y:e.y||e.yValues,marker:{size:"bubble"===i?e.sizes||10:8,color:e.colors||"#3b82f6",showscale:"bubble"===i}}];break;case"heatmap":t=[{type:"heatmap",z:e.z||e.matrix,x:e.x||e.xLabels,y:e.y||e.yLabels,colorscale:"Viridis"}];break;case"waterfall":t=[{type:"waterfall",x:e.labels||e.categories,y:e.values||e.changes,connector:{line:{color:"rgb(63, 63, 63)"}}}];break;case"funnel":t=[{type:"funnel",y:e.labels||e.stages,x:e.values||e.amounts,textposition:"inside",textinfo:"value+percent initial"}];break;case"treemap":t=[{type:"treemap",labels:e.labels||e.names,parents:e.parents||[""],values:e.values||e.amounts,textinfo:"label+value+percent parent"}];break;case"sunburst":t=[{type:"sunburst",labels:e.labels||e.names,parents:e.parents||[""],values:e.values||e.amounts}];break;case"box":case"violin":t=[{type:i,y:e.values||e.distribution,name:e.name||"Distribution",box:{visible:!0},meanline:{visible:!0}}];break;case"candlestick":t=[{type:"candlestick",x:e.dates||e.x,open:e.open,high:e.high,low:e.low,close:e.close}];break;case"sankey":t=[{type:"sankey",node:{label:e.nodeLabels||e.nodes,color:e.nodeColors||"#3b82f6"},link:{source:e.linkSource||e.sources,target:e.linkTarget||e.targets,value:e.linkValue||e.values}}];break;case"radar":t=[{type:"scatterpolar",r:e.values||e.r,theta:e.categories||e.theta,fill:"toself",fillcolor:"rgba(59, 130, 246, 0.3)",line:{color:"#3b82f6"}}],r.polar={radialaxis:{visible:!0,range:[0,Math.max(...e.values||[100])]}};break;case"gauge":t=[{type:"indicator",mode:"gauge+number",value:e.value||0,title:{text:e.label||"Metric"},gauge:{axis:{range:[null,e.max||100]},bar:{color:"#3b82f6"},steps:e.steps||[{range:[0,50],color:"rgba(239, 68, 68, 0.3)"},{range:[50,80],color:"rgba(251, 191, 36, 0.3)"},{range:[80,100],color:"rgba(34, 197, 94, 0.3)"}]}}];break;default:t=[{type:"scatter",x:[1,2,3],y:[1,2,3]}]}p(t),h(r)};return r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl max-w-6xl w-full max-h-[90vh] overflow-hidden",children:[r.jsx("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Chart Wizard"}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{onClick:s,className:"px-4 py-2 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg",children:"Cancel"}),i&&r.jsx("button",{onClick:()=>{a({type:i,title:n,data:d,layout:u,options:g})},className:"px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary/90",children:"Add Chart"})]})]})}),r.jsxs("div",{className:"flex h-[calc(90vh-100px)]",children:[r.jsxs("div",{className:"w-1/3 border-r border-gray-200 dark:border-gray-700 overflow-y-auto p-4",children:[r.jsx("input",{type:"text",value:n,onChange:e=>c(e.target.value),className:"w-full px-3 py-2 mb-4 bg-gray-50 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg",placeholder:"Chart Title"}),r.jsx("h3",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"Select Chart Type"}),r.jsx("div",{className:"space-y-2",children:b.map(e=>r.jsxs("button",{onClick:()=>l(e.type),className:"w-full flex items-start gap-3 p-3 rounded-lg text-left transition-colors "+(i===e.type?"bg-primary text-white":"bg-gray-50 dark:bg-gray-700 hover:bg-gray-100 dark:hover:bg-gray-600"),children:[r.jsx(e.icon,{size:20,className:i===e.type?"text-white":"text-gray-600 dark:text-gray-400"}),r.jsxs("div",{children:[r.jsx("div",{className:"font-medium "+(i===e.type?"text-white":"text-gray-900 dark:text-white"),children:e.name}),r.jsx("div",{className:"text-xs mt-0.5 "+(i===e.type?"text-blue-100":"text-gray-600 dark:text-gray-400"),children:e.description})]})]},e.type))})]}),r.jsx("div",{className:"flex-1 p-6",children:i&&d?r.jsxs("div",{className:"h-full",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:"Preview"}),r.jsx("div",{className:"bg-gray-50 dark:bg-gray-900 rounded-lg p-4 h-[calc(100%-3rem)]",children:r.jsx(m,{data:d,layout:{...u,autosize:!0,paper_bgcolor:"transparent",plot_bgcolor:"transparent"},config:{responsive:!0,displayModeBar:!1},style:{width:"100%",height:"100%"}})})]}):r.jsx("div",{className:"h-full flex items-center justify-center text-gray-500 dark:text-gray-400",children:r.jsxs("div",{className:"text-center",children:[r.jsx(o,{size:48,className:"mx-auto mb-4 opacity-50"}),r.jsx("p",{children:"Select a chart type to see preview"})]})})})]})]})})}import{_ as a}from"./chunk-a7oqB5tI.js";import{r as t,L as r}from"./chunk-Bcp2Zi4E.js";import{ah as s,ae as i,bL as l,B as o,q as n,aw as c,T as d,bk as p,ax as u}from"./index-LbveD3Go.js";import"./chunk-oUGr0aFc.js";import"./chunk-B5pcS96K.js";let h=null;const m=({data:e,layout:s,config:i,style:l})=>{const[o,n]=t.useState(null);return t.useEffect(()=>{h?n(()=>h):a(()=>import("./chunk-oUGr0aFc.js").then(e=>e.r),__vite__mapDeps([0,1,2,3])).then(e=>{h=e.default,n(()=>h)})},[]),o?r.jsx(o,{data:e,layout:s,config:i,style:l}):r.jsx("div",{className:"flex items-center justify-center h-full",children:"Loading chart..."})},b=[{type:"line",name:"Line Chart",description:"Track trends over time",icon:s,requiredDataShape:"single-series",defaultOptions:{showLegend:!0,showGrid:!0,smoothing:.3}},{type:"multi-line",name:"Multi-Line Chart",description:"Compare multiple trends",icon:i,requiredDataShape:"multi-series",defaultOptions:{showLegend:!0,showGrid:!0,interpolation:"linear"}},{type:"area",name:"Area Chart",description:"Show cumulative trends",icon:s,requiredDataShape:"single-series",defaultOptions:{fillOpacity:.3,showDataPoints:!1}},{type:"stacked-area",name:"Stacked Area",description:"Show composition over time",icon:l,requiredDataShape:"multi-series",defaultOptions:{stackMode:"normal",fillOpacity:.7}},{type:"bar",name:"Bar Chart",description:"Compare categories",icon:o,requiredDataShape:"single-series",defaultOptions:{orientation:"vertical",showValues:!0}},{type:"grouped-bar",name:"Grouped Bar",description:"Compare groups across categories",icon:o,requiredDataShape:"multi-series",defaultOptions:{barMode:"group",barGap:.15}},{type:"stacked-bar",name:"Stacked Bar",description:"Show composition by category",icon:o,requiredDataShape:"multi-series",defaultOptions:{barMode:"stack",showTotals:!0}},{type:"pie",name:"Pie Chart",description:"Show proportions",icon:n,requiredDataShape:"single-series",defaultOptions:{showPercentages:!0,showLegend:!0}},{type:"donut",name:"Donut Chart",description:"Pie with center metric",icon:n,requiredDataShape:"single-series",defaultOptions:{holeSize:.4,showCenterMetric:!0}},{type:"sunburst",name:"Sunburst",description:"Hierarchical pie chart",icon:n,requiredDataShape:"hierarchical",defaultOptions:{maxDepth:3,showPath:!0}},{type:"scatter",name:"Scatter Plot",description:"Show correlations",icon:c,requiredDataShape:"correlation",defaultOptions:{showTrendline:!0,markerSize:8}},{type:"bubble",name:"Bubble Chart",description:"3D scatter with size dimension",icon:c,requiredDataShape:"correlation",defaultOptions:{sizeRef:2,showScale:!0}},{type:"heatmap",name:"Heatmap",description:"Density visualization",icon:c,requiredDataShape:"correlation",defaultOptions:{colorScale:"Viridis",showScale:!0}},{type:"waterfall",name:"Waterfall",description:"Show incremental changes",icon:d,requiredDataShape:"single-series",defaultOptions:{showConnectors:!0,showTotals:!0}},{type:"candlestick",name:"Candlestick",description:"OHLC financial data",icon:o,requiredDataShape:"time-series",defaultOptions:{increasingColor:"#059669",decreasingColor:"#dc2626"}},{type:"box",name:"Box Plot",description:"Statistical distribution",icon:o,requiredDataShape:"multi-series",defaultOptions:{showOutliers:!0,boxMean:"sd"}},{type:"violin",name:"Violin Plot",description:"Distribution density",icon:o,requiredDataShape:"multi-series",defaultOptions:{showBox:!0,meanline:!0}},{type:"treemap",name:"Treemap",description:"Hierarchical rectangles",icon:c,requiredDataShape:"hierarchical",defaultOptions:{tiling:"squarify",showPath:!0}},{type:"sankey",name:"Sankey Diagram",description:"Flow visualization",icon:l,requiredDataShape:"hierarchical",defaultOptions:{nodeThickness:15,nodePadding:10}},{type:"funnel",name:"Funnel Chart",description:"Conversion tracking",icon:p,requiredDataShape:"single-series",defaultOptions:{showPercentages:!0,textPosition:"inside"}},{type:"radar",name:"Radar Chart",description:"Multi-dimensional comparison",icon:u,requiredDataShape:"multi-series",defaultOptions:{fillOpacity:.25,showAngularAxis:!0}},{type:"gauge",name:"Gauge Chart",description:"KPI indicator",icon:d,requiredDataShape:"single-series",defaultOptions:{min:0,max:100,showThresholds:!0}}];export{e as default};
