const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/chunk-a7oqB5tI.js","assets/chunk-Bcp2Zi4E.js","assets/chunk-oUGr0aFc.js","assets/vendor-B-C1h4S3.css"])))=>i.map(i=>d[i]);
async function t(t,r){if(!o){const t=await e(()=>import("./chunk-a7oqB5tI.js").then(t=>t.j),__vite__mapDeps([0,1,2,3]));o=t.default}if(!n){const t=await e(()=>import("./chunk-a7oqB5tI.js").then(t=>t.h),__vite__mapDeps([0,1,2,3]));n=t.default}const s=new o("p","mm","a4"),i=s.internal.pageSize.getWidth(),a=s.internal.pageSize.getHeight(),l=20;let c=l;const x=t=>c+t>a-l&&(s.addPage(),c=l,!0),m=t=>new Intl.NumberFormat("en-GB",{style:"currency",currency:"GBP"}).format(t);s.setFontSize(24),s.setTextColor(33,150,243),s.text(t.title,i/2,c,{align:"center"}),c+=10,s.setFontSize(12),s.setTextColor(100,100,100),s.text(t.dateRange,i/2,c,{align:"center"}),c+=15,s.setFontSize(16),s.setTextColor(0,0,0),s.text("Financial Summary",l,c),c+=10;const F=(i-40-15)/4,C=c;s.setFillColor(236,253,245),s.rect(l,C,F,20,"F"),s.setFontSize(10),s.setTextColor(100,100,100),s.text("Income",22,C+5),s.setFontSize(14),s.setTextColor(34,197,94),s.text(m(t.summary.income),22,C+13),s.setFillColor(254,242,242),s.rect(l+F+5,C,F,20,"F"),s.setFontSize(10),s.setTextColor(100,100,100),s.text("Expenses",l+F+7,C+5),s.setFontSize(14),s.setTextColor(239,68,68),s.text(m(t.summary.expenses),l+F+7,C+13);const g=t.summary.netIncome>=0?[236,253,245]:[254,242,242],T=t.summary.netIncome>=0?[34,197,94]:[239,68,68];if(s.setFillColor(g[0],g[1],g[2]),s.rect(l+2*(F+5),C,F,20,"F"),s.setFontSize(10),s.setTextColor(100,100,100),s.text("Net Income",l+2*(F+5)+2,C+5),s.setFontSize(14),s.setTextColor(T[0],T[1],T[2]),s.text(m(t.summary.netIncome),l+2*(F+5)+2,C+13),s.setFillColor(254,249,195),s.rect(l+3*(F+5),C,F,20,"F"),s.setFontSize(10),s.setTextColor(100,100,100),s.text("Savings Rate",l+3*(F+5)+2,C+5),s.setFontSize(14),s.setTextColor(245,158,11),s.text(`${t.summary.savingsRate.toFixed(1)}%`,l+3*(F+5)+2,C+13),c+=35,t.chartElements&&t.chartElements.length>0){x(100);for(const e of t.chartElements)try{const t=await n(e,{scale:2,backgroundColor:"#ffffff",logging:!1}),o=t.toDataURL("image/png"),r=i-40,a=t.height*r/t.width;x(a),s.addImage(o,"PNG",l,c,r,a),c+=a+10}catch(p){console.error("Error capturing chart:",p)}}x(60),s.setFontSize(16),s.setTextColor(0,0,0),s.text("Expense Categories",l,c),c+=10,s.setFontSize(10),s.setFillColor(243,244,246),s.rect(l,c,i-40,8,"F"),s.setTextColor(75,85,99),s.text("Category",22,c+5),s.text("Amount",100,c+5),s.text("Percentage",150,c+5),c+=10,s.setTextColor(0,0,0),t.categoryBreakdown.forEach((t,e)=>{x(8)&&(s.setFontSize(10),s.setFillColor(243,244,246),s.rect(l,c,i-40,8,"F"),s.setTextColor(75,85,99),s.text("Category",22,c+5),s.text("Amount",100,c+5),s.text("Percentage",150,c+5),c+=10,s.setTextColor(0,0,0)),e%2==0&&(s.setFillColor(249,250,251),s.rect(l,c-5,i-40,8,"F")),s.text(t.category,22,c),s.text(m(t.amount),100,c),s.text(`${t.percentage.toFixed(1)}%`,150,c),c+=8}),c+=10,x(60),s.setFontSize(16),s.setTextColor(0,0,0),s.text("Top Transactions",l,c),c+=10,s.setFontSize(10),s.setFillColor(243,244,246),s.rect(l,c,i-40,8,"F"),s.setTextColor(75,85,99),s.text("Date",22,c+5),s.text("Description",45,c+5),s.text("Category",120,c+5),s.text("Amount",160,c+5),c+=10,s.setTextColor(0,0,0),t.topTransactions.slice(0,10).forEach((t,e)=>{x(8)&&(s.setFontSize(10),s.setFillColor(243,244,246),s.rect(l,c,i-40,8,"F"),s.setTextColor(75,85,99),s.text("Date",22,c+5),s.text("Description",45,c+5),s.text("Category",120,c+5),s.text("Amount",160,c+5),c+=10,s.setTextColor(0,0,0)),e%2==0&&(s.setFillColor(249,250,251),s.rect(l,c-5,i-40,8,"F")),r.find(e=>e.id===t.accountId),s.setFontSize(9),s.text(new Date(t.date).toLocaleDateString("en-GB"),22,c);const o=t.description.length>30?t.description.substring(0,30)+"...":t.description;s.text(o,45,c),s.text(t.category,120,c);const n="income"===t.type?[34,197,94]:[239,68,68];s.setTextColor(n[0],n[1],n[2]);const a=`${"income"===t.type?"+":"-"}${m(t.amount)}`;s.text(a,160,c),s.setTextColor(0,0,0),c+=8}),s.setFontSize(8),s.setTextColor(150,150,150);const u=`Generated on ${(new Date).toLocaleDateString("en-GB")} at ${(new Date).toLocaleTimeString("en-GB")}`;s.text(u,i/2,a-10,{align:"center"});const S=`financial-report-${(new Date).toISOString().split("T")[0]}.pdf`;s.save(S)}import{_ as e}from"./chunk-a7oqB5tI.js";import"./chunk-Bcp2Zi4E.js";import"./chunk-oUGr0aFc.js";let o=null,n=null;export{t as generatePDFReport};
