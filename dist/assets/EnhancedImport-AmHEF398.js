function e({onBankSelected:e,selectedBank:a,className:t}){const[o,c]=w.useState(""),[m,x]=w.useState("all"),[g,p]=w.useState("all"),[u]=w.useState("grid"),y=w.useMemo(()=>D.filter(e=>{const a=""===o||e.name.toLowerCase().includes(o.toLowerCase())||e.key.toLowerCase().includes(o.toLowerCase()),t="all"===m||e.region===m,s="all"===g||e.type===g;return a&&t&&s}),[o,m,g]),h=w.useMemo(()=>{const e={};return y.forEach(a=>{const t="all"!==m?M[a.type]:E[a.region];e[t]||(e[t]=[]),e[t].push(a)}),e},[y,m]),b=a=>{e(a.key,a.name)};return s.jsxs("div",{className:`bank-format-selector ${t||""}`,children:[s.jsxs("div",{className:"space-y-4 mb-6",children:[s.jsxs("div",{className:"relative",children:[s.jsx(r,{size:20,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),s.jsx("input",{type:"text",placeholder:"Search banks, payment services, or investment platforms...",value:o,onChange:e=>c(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white"})]}),s.jsxs("div",{className:"flex flex-wrap gap-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(l,{size:16,className:"text-gray-500"}),s.jsxs("select",{value:m,onChange:e=>x(e.target.value),className:"px-3 py-1 border border-gray-300 dark:border-gray-600 rounded focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white text-sm",children:[s.jsx("option",{value:"all",children:"All Regions"}),Object.entries(E).map(([e,a])=>s.jsx("option",{value:e,children:a},e))]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(i,{size:16,className:"text-gray-500"}),s.jsxs("select",{value:g,onChange:e=>p(e.target.value),className:"px-3 py-1 border border-gray-300 dark:border-gray-600 rounded focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white text-sm",children:[s.jsx("option",{value:"all",children:"All Types"}),Object.entries(M).map(([e,a])=>s.jsx("option",{value:e,children:a},e))]})]})]})]}),s.jsxs("div",{className:"space-y-6",children:[Object.entries(h).map(([e,t])=>s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-3",children:[e," (",t.length,")"]}),"grid"===u?s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-3",children:t.map(e=>{const t=a===e.key;return s.jsx("button",{onClick:()=>b(e),className:"p-4 rounded-lg border-2 text-left transition-all hover:shadow-md "+(t?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":"border-gray-200 dark:border-gray-600 hover:border-gray-300 dark:hover:border-gray-500"),children:s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"font-medium text-gray-900 dark:text-white text-sm",children:e.name}),s.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:[e.region," \u2022 ",M[e.type]]})]}),t&&s.jsx(n,{size:16,className:"text-blue-500 flex-shrink-0"})]})},e.key)})}):s.jsx("div",{className:"space-y-2",children:t.map(e=>{const t=a===e.key;return s.jsxs("button",{onClick:()=>b(e),className:"w-full p-3 rounded-lg border text-left transition-all flex items-center justify-between "+(t?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":"border-gray-200 dark:border-gray-600 hover:border-gray-300 dark:hover:border-gray-500"),children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-gray-900 dark:text-white",children:e.name}),s.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:[e.region," \u2022 ",M[e.type]]})]}),t&&s.jsx(n,{size:20,className:"text-blue-500"})]},e.key)})})]},e)),0===y.length&&s.jsxs("div",{className:"text-center py-8",children:[s.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"No banks found matching your search criteria."}),s.jsx("button",{onClick:()=>{c(""),x("all"),p("all")},className:"mt-2 text-blue-500 hover:text-blue-600 text-sm",children:"Clear filters"})]})]}),s.jsx("div",{className:"mt-6 pt-6 border-t border-gray-200 dark:border-gray-700",children:s.jsxs("button",{onClick:()=>e("custom","Custom Format"),className:"w-full p-4 rounded-lg border-2 border-dashed text-center transition-all "+("custom"===a?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":"border-gray-300 dark:border-gray-600 hover:border-gray-400 dark:hover:border-gray-500"),children:[s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx(d,{size:20,className:"text-gray-500"}),s.jsx("span",{className:"font-medium text-gray-700 dark:text-gray-300",children:"Custom Format (Manual Mapping)"})]}),s.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:"Set up custom column mappings for unsupported formats"})]})})]})}function a({isOpen:a,onClose:t}){const{accounts:r,transactions:l,addTransaction:i,categories:d,hasTestData:N,clearAllData:v}=o(),[B,I]=w.useState("files"),[D,E]=w.useState([]),[M,T]=w.useState(""),[R,O]=w.useState([]),[P,K]=w.useState(!1),[G,q]=w.useState(null);w.useState(!1);const[W,L]=w.useState(!1),[V,H]=w.useState(-1),X=e=>{switch(e.toLowerCase().split(".").pop()){case"csv":return"csv";case"ofx":return"ofx";case"qif":return"qif";default:return"unknown"}},$=e=>e<1024?e+" bytes":e<1048576?Math.round(e/1024)+" KB":Math.round(e/1048576)+" MB",Q=w.useCallback(e=>{const a=Array.from(e.target.files||[]).map(e=>({file:e,name:e.name,size:$(e.size),type:X(e.name),status:"pending"})),t=a.filter(e=>"unknown"!==e.type),s=a.filter(e=>"unknown"===e.type);s.length>0&&alert(`Unsupported file types: ${s.map(e=>e.name).join(", ")}`),E(e=>[...e,...t])},[]),Y=w.useCallback(e=>{e.preventDefault();const a=Array.from(e.dataTransfer.files).map(e=>({file:e,name:e.name,size:$(e.size),type:X(e.name),status:"pending"})),t=a.filter(e=>"unknown"!==e.type),s=a.filter(e=>"unknown"===e.type);s.length>0&&alert(`Unsupported file types: ${s.map(e=>e.name).join(", ")}`),E(e=>[...e,...t])},[]),Z=(e,a)=>{if(T(e),"custom"!==e){const a=z.getBankMappings(e);O(a)}},_=async()=>{if(N&&!W)return void L(!0);K(!0),I("result");let e=0,a=0,t=0;try{for(let n=0;n<D.length;n++){const o=D[n];H(n),E(e=>e.map((e,a)=>a===n?{...e,status:"processing"}:e));try{const s=await o.file.text();let c=0,m=0;switch(o.type){case"csv":{const e=z.parseCSV(s),a=M&&"custom"!==M?z.getBankMappings(M):R,t=z.generatePreview(e.data,a).transactions.map(e=>S.applyRules(e)).filter(e=>null!==e);for(const s of t){const e=l.some(e=>e.date===s.date&&e.amount===s.amount&&e.description===s.description);!e&&s.date&&void 0!==s.amount&&s.type&&s.category&&s.accountId&&void 0!==s.description?(i({date:s.date,amount:s.amount,type:s.type,category:s.category,accountId:s.accountId,description:s.description,merchant:s.merchant,tags:s.tags||[],notes:s.notes}),c++):e?m++:console.warn("Skipping transaction with missing required fields:",s)}break}case"ofx":{const e=await U.importTransactions(s,r,l,{categories:d,autoCategorize:!0});for(const a of e.transactions)i(a),c++;m=e.duplicates;break}case"qif":{const e=await A.importTransactions(s,r[0]?.id||"",l,{categories:d,autoCategorize:!0});for(const a of e.transactions)i(a),c++;m=e.duplicates;break}}E(e=>e.map((e,a)=>a===n?{...e,status:"success",imported:c,duplicates:m}:e)),e+=c,a+=m,t++}catch(s){console.error(`Error processing file ${o.name}:`,s),E(e=>e.map((e,a)=>a===n?{...e,status:"error",error:s instanceof Error?s.message:"Unknown error"}:e))}}q({totalFiles:D.length,successfulFiles:t,totalTransactions:e,totalDuplicates:a})}finally{K(!1),H(-1)}};return s.jsxs(s.Fragment,{children:[s.jsxs(c,{isOpen:a,onClose:t,title:"Enhanced Import Wizard",size:"xl",children:[s.jsxs(m,{children:[s.jsx("div",{className:"mb-6",children:s.jsx("div",{className:"flex items-center justify-between mb-4",children:["files","format","rules","result"].map((e,a)=>{const t=a+1,r=B===e,l=["files","format","rules","result"].indexOf(B)>a;return s.jsxs(C.Fragment,{children:[s.jsxs("div",{className:"flex items-center gap-2 "+(r?"text-blue-600 dark:text-blue-400":l?"text-green-600 dark:text-green-400":"text-gray-400 dark:text-gray-600"),children:[s.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium "+(r?"bg-blue-600 text-white":l?"bg-green-600 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-600 dark:text-gray-400"),children:l?s.jsx(n,{size:16}):t}),s.jsx("span",{className:"text-sm font-medium capitalize hidden sm:inline",children:"files"===e?"Select Files":"format"===e?"Bank Format":"rules"===e?"Import Rules":"Results"})]}),a<3&&s.jsx("div",{className:"flex-1 h-0.5 mx-2 "+(l?"bg-green-600":"bg-gray-200 dark:bg-gray-700")})]},e)})})}),(()=>{switch(B){case"files":return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"Select Files to Import"}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"Choose CSV, OFX, or QIF files from your bank or financial institution."})]}),s.jsxs("div",{onDrop:Y,onDragOver:e=>e.preventDefault(),className:"border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg p-8 text-center hover:border-gray-400 dark:hover:border-gray-500 transition-colors",children:[s.jsx(j,{size:48,className:"mx-auto mb-4 text-gray-400"}),s.jsx("p",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"Drag and drop files here"}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"or click to browse"}),s.jsx("input",{type:"file",multiple:!0,accept:".csv,.ofx,.qif",onChange:Q,className:"hidden",id:"file-input"}),s.jsxs("label",{htmlFor:"file-input",className:"inline-flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 cursor-pointer",children:[s.jsx(f,{size:16}),"Choose Files"]})]}),D.length>0&&s.jsxs("div",{className:"space-y-3",children:[s.jsxs("h4",{className:"font-medium text-gray-900 dark:text-white",children:["Selected Files (",D.length,")"]}),s.jsx("div",{className:"space-y-2",children:D.map((e,a)=>s.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(k,{size:20,className:"text-blue-600 dark:text-blue-400"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:e.name}),s.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[e.size," \u2022 ",e.type.toUpperCase()]})]})]}),s.jsx("button",{onClick:()=>(e=>{E(D.filter((a,t)=>t!==e))})(a),className:"p-1 text-red-600 hover:text-red-800 dark:text-red-400 dark:hover:text-red-300",children:s.jsx(b,{size:16})})]},a))})]})]});case"format":return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"Select Bank Format"}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"Choose your bank or financial institution to automatically map columns."})]}),s.jsx(e,{onBankSelected:Z,selectedBank:M})]});case"rules":return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"Import Rules & Transformations"}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"Set up rules to automatically categorize and transform your imported transactions."})]}),s.jsx(F,{})]});case"result":return s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{children:s.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"Import Results"})}),P?s.jsxs("div",{className:"text-center py-8",children:[s.jsxs("div",{className:"inline-flex items-center gap-3 mb-4",children:[s.jsx(p,{size:24,className:"animate-spin text-blue-600"}),s.jsx("span",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Processing Files..."})]}),V>=0&&s.jsxs("p",{className:"text-gray-600 dark:text-gray-400",children:["Processing ",D[V]?.name," (",V+1," of ",D.length,")"]})]}):G?s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-4 rounded-lg",children:[s.jsx("p",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:G.totalFiles}),s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Files Processed"})]}),s.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 p-4 rounded-lg",children:[s.jsx("p",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:G.successfulFiles}),s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Successful"})]}),s.jsxs("div",{className:"bg-purple-50 dark:bg-purple-900/20 p-4 rounded-lg",children:[s.jsx("p",{className:"text-2xl font-bold text-purple-600 dark:text-purple-400",children:G.totalTransactions}),s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Imported"})]}),s.jsxs("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 p-4 rounded-lg",children:[s.jsx("p",{className:"text-2xl font-bold text-yellow-600 dark:text-yellow-400",children:G.totalDuplicates}),s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Duplicates"})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("h4",{className:"font-medium text-gray-900 dark:text-white",children:"File Details"}),D.map((e,a)=>s.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg "+("success"===e.status?"bg-green-50 dark:bg-green-900/20":"error"===e.status?"bg-red-50 dark:bg-red-900/20":"bg-gray-50 dark:bg-gray-700"),children:[s.jsxs("div",{className:"flex items-center gap-3",children:["success"===e.status?s.jsx(n,{size:20,className:"text-green-600 dark:text-green-400"}):"error"===e.status?s.jsx(b,{size:20,className:"text-red-600 dark:text-red-400"}):s.jsx(k,{size:20,className:"text-gray-600 dark:text-gray-400"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:e.name}),e.error&&s.jsx("p",{className:"text-sm text-red-600 dark:text-red-400",children:e.error})]})]}),"success"===e.status&&s.jsxs("div",{className:"text-right",children:[s.jsxs("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:[e.imported," imported"]}),e.duplicates&&e.duplicates>0&&s.jsxs("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:[e.duplicates," duplicates"]})]})]},a))]})]}):null]});default:return null}})()]}),s.jsx(x,{children:s.jsxs("div",{className:"flex justify-between w-full",children:[s.jsx("div",{children:"files"!==B&&"result"!==B&&s.jsxs("button",{onClick:()=>I((()=>{switch(B){case"format":default:return"files";case"rules":return"format";case"result":return"rules"}})()),className:"flex items-center gap-2 px-4 py-2 text-gray-700 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white",children:[s.jsx(g,{size:16}),"Back"]})}),s.jsxs("div",{className:"flex gap-3",children:["result"===B&&s.jsxs("button",{onClick:()=>{I("files"),E([]),T(""),O([]),q(null),L(!1)},className:"flex items-center gap-2 px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700",children:[s.jsx(p,{size:16}),"Import More"]}),s.jsx("button",{onClick:t,className:"px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700",children:"result"===B?"Done":"Cancel"}),"result"!==B&&s.jsx("button",{onClick:()=>{"rules"===B?_():I((()=>{switch(B){case"files":return"format";case"format":return"rules";case"rules":return"result";default:return"files"}})())},disabled:!(()=>{switch(B){case"files":return D.length>0;case"format":return""!==M;case"rules":return!0;default:return!1}})(),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:"rules"===B?s.jsxs(s.Fragment,{children:[s.jsx(u,{size:16}),"Start Import"]}):s.jsxs(s.Fragment,{children:["Next",s.jsx(y,{size:16})]})})]})]})})]}),W&&s.jsxs(c,{isOpen:!0,onClose:()=>L(!1),title:"Test Data Detected",size:"md",children:[s.jsx(m,{children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(h,{size:24,className:"text-yellow-600 dark:text-yellow-400 flex-shrink-0 mt-1"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-900 dark:text-white mb-2",children:"Test data has been detected in your application. Importing real transaction data will mix with test data."}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Would you like to clear all test data before importing your real transactions?"})]})]})}),s.jsx(x,{children:s.jsxs("div",{className:"flex gap-3 w-full justify-end",children:[s.jsx("button",{onClick:()=>{L(!1),_()},className:"px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700",children:"Keep Test Data"}),s.jsx("button",{onClick:()=>{v(),L(!1),_()},className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700",children:"Clear Test Data"})]})})]})]})}function t(){const[e,t]=w.useState(!1),[r,i]=w.useState(!1),[n,o]=w.useState(!1),c=S.getRules().filter(e=>e.enabled),m=["Barclays","HSBC","Lloyds","NatWest","Santander","Monzo","Starling","Chase","Bank of America","Wells Fargo","Citibank","Deutsche Bank","BNP Paribas","ING Bank","UniCredit","DBS Bank","OCBC Bank","Commonwealth Bank","ANZ Bank","Coinbase","Binance","Vanguard","Fidelity","PayPal"];return s.jsxs(B,{title:"Enhanced Import",children:[s.jsxs("div",{className:"max-w-6xl mx-auto",children:[s.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 dark:from-blue-800 dark:to-indigo-800 rounded-2xl p-6 mb-6 text-white shadow-lg",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Enhanced Import"}),s.jsx("p",{className:"text-blue-100",children:"Advanced file import with batch processing, smart bank format detection, and automated rules"})]}),s.jsx("div",{className:"flex items-center gap-4",children:s.jsx(j,{size:48,className:"text-white/80"})})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(l,{size:20,className:"text-blue-600 dark:text-blue-400"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Supported Banks"}),s.jsxs("p",{className:"font-semibold text-gray-900 dark:text-white",children:[m.length,"+"]})]})]})}),s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(k,{size:20,className:"text-green-600 dark:text-green-400"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"File Formats"}),s.jsx("p",{className:"font-semibold text-gray-900 dark:text-white",children:"CSV, OFX, QIF"})]})]})}),s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(N,{size:20,className:"text-purple-600 dark:text-purple-400"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Import Rules"}),s.jsxs("p",{className:"font-semibold text-gray-900 dark:text-white",children:[c.length," active"]})]})]})}),s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(p,{size:20,className:"text-orange-600 dark:text-orange-400"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Auto Processing"}),s.jsx("p",{className:"font-semibold text-gray-900 dark:text-white",children:"Smart Detection"})]})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm p-6",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"w-12 h-12 bg-blue-100 dark:bg-blue-900/30 rounded-lg flex items-center justify-center",children:s.jsx(j,{size:24,className:"text-blue-600 dark:text-blue-400"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"Enhanced Import Wizard"}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"Step-by-step guided import with automatic bank format detection, column mapping, and rule application."}),s.jsxs("ul",{className:"text-sm text-gray-600 dark:text-gray-400 space-y-1 mb-4",children:[s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx(v,{size:14,className:"text-green-600"}),"Automatic bank format detection"]}),s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx(v,{size:14,className:"text-green-600"}),"Smart column mapping"]}),s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx(v,{size:14,className:"text-green-600"}),"Rule-based transformations"]}),s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx(v,{size:14,className:"text-green-600"}),"Duplicate detection"]})]}),s.jsxs("button",{onClick:()=>t(!0),className:"w-full flex items-center justify-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[s.jsx(u,{size:16}),"Start Enhanced Import"]})]})]})}),s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm p-6",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"w-12 h-12 bg-green-100 dark:bg-green-900/30 rounded-lg flex items-center justify-center",children:s.jsx(f,{size:24,className:"text-green-600 dark:text-green-400"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"Batch File Import"}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"Import multiple files at once with parallel processing and comprehensive error handling."}),s.jsxs("ul",{className:"text-sm text-gray-600 dark:text-gray-400 space-y-1 mb-4",children:[s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx(v,{size:14,className:"text-green-600"}),"Multiple file processing"]}),s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx(v,{size:14,className:"text-green-600"}),"Drag and drop support"]}),s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx(v,{size:14,className:"text-green-600"}),"Progress tracking"]}),s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx(v,{size:14,className:"text-green-600"}),"Error recovery"]})]}),s.jsxs("button",{onClick:()=>i(!0),className:"w-full flex items-center justify-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[s.jsx(f,{size:16}),"Start Batch Import"]})]})]})})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm p-6 mb-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-1",children:"Import Rules & Transformations"}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Automate transaction categorization and data transformation during import."})]}),s.jsxs("button",{onClick:()=>o(!0),className:"flex items-center gap-2 px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors",children:[s.jsx(d,{size:16}),"Manage Rules"]})]}),c.length>0?s.jsxs("div",{className:"space-y-2",children:[s.jsxs("p",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:["Active Rules (",c.length,"):"]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:c.slice(0,6).map(e=>s.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-3",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx(N,{size:14,className:"text-purple-600 dark:text-purple-400"}),s.jsx("span",{className:"font-medium text-gray-900 dark:text-white text-sm",children:e.name})]}),s.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:e.description||"No description"})]},e.id))}),c.length>6&&s.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-2",children:["And ",c.length-6," more rules..."]})]}):s.jsxs("div",{className:"text-center py-6",children:[s.jsx(N,{size:48,className:"mx-auto mb-3 text-gray-400"}),s.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-2",children:"No import rules configured yet"}),s.jsx("p",{className:"text-sm text-gray-400",children:"Create rules to automatically categorize and transform imported transactions"})]})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm p-6",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:["Supported Bank Formats (",m.length,"+)"]}),s.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-3",children:m.map((e,a)=>s.jsxs("div",{className:"flex items-center gap-2 p-2 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[s.jsx(l,{size:14,className:"text-blue-600 dark:text-blue-400 flex-shrink-0"}),s.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300 truncate",children:e})]},a))}),s.jsx("div",{className:"mt-4 p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(h,{size:20,className:"text-blue-600 dark:text-blue-400 flex-shrink-0 mt-0.5"}),s.jsxs("div",{className:"text-sm",children:[s.jsx("p",{className:"text-blue-900 dark:text-blue-100 font-medium mb-1",children:"Don't see your bank?"}),s.jsx("p",{className:"text-blue-800 dark:text-blue-200",children:'Use the "Custom Format" option to manually map columns for any CSV file format. You can also create import rules to transform data from any financial institution.'})]})]})})]})]}),s.jsx(a,{isOpen:e,onClose:()=>t(!1)}),s.jsx(I,{isOpen:r,onClose:()=>i(!1)}),n&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl w-full max-w-4xl max-h-[80vh] overflow-hidden",children:[s.jsx("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Import Rules Manager"}),s.jsx("button",{onClick:()=>o(!1),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-600 rounded-lg transition-colors",children:s.jsx(h,{size:20,className:"text-gray-500 dark:text-gray-400"})})]})}),s.jsx("div",{className:"p-6 overflow-y-auto max-h-[60vh]",children:s.jsx(F,{})})]})})]})}import{j as s,a3 as r,bh as l,ai as i,_ as n,N as d,g as o,M as c,m,q as x,a6 as g,at as p,aC as u,a7 as y,ar as h,X as b,b2 as k,bo as j,bn as f,bq as N,O as v}from"./index-Pkjq0qn3.js";import{a as w,n as C}from"./chunk-BWx9oMeS.js";import{i as S}from"./chunk-BUNwFMNM.js";import{P as B}from"./chunk-BnYLBI7x.js";import{e as z}from"./chunk-5nUEduVz.js";import{o as U}from"./chunk-BfKHasoP.js";import{q as A}from"./chunk-tZvAe11p.js";import F from"./ImportRulesManager-DWD6Nbh-.js";import I from"./BatchImportModal-pdRTqqMb.js";import"./chunk-BN8kgYrt.js";import"./chunk-Drd-K-oK.js";import"./chunk-CkYa08k9.js";const D=[{key:"barclays",name:"Barclays",region:"UK",type:"traditional"},{key:"hsbc",name:"HSBC",region:"UK",type:"traditional"},{key:"lloyds",name:"Lloyds Bank",region:"UK",type:"traditional"},{key:"natwest",name:"NatWest",region:"UK",type:"traditional"},{key:"santander",name:"Santander UK",region:"UK",type:"traditional"},{key:"tsb",name:"TSB Bank",region:"UK",type:"traditional"},{key:"halifax",name:"Halifax",region:"UK",type:"traditional"},{key:"nationwide",name:"Nationwide",region:"UK",type:"traditional"},{key:"first-direct",name:"First Direct",region:"UK",type:"traditional"},{key:"monzo",name:"Monzo",region:"UK",type:"digital"},{key:"starling",name:"Starling Bank",region:"UK",type:"digital"},{key:"revolut",name:"Revolut",region:"UK",type:"digital"},{key:"n26",name:"N26",region:"EU",type:"digital"},{key:"chase",name:"Chase Bank",region:"US",type:"traditional"},{key:"bank-of-america",name:"Bank of America",region:"US",type:"traditional"},{key:"wells-fargo",name:"Wells Fargo",region:"US",type:"traditional"},{key:"citibank",name:"Citibank",region:"US",type:"traditional"},{key:"td-bank",name:"TD Bank",region:"US",type:"traditional"},{key:"deutsche-bank",name:"Deutsche Bank",region:"EU",type:"traditional"},{key:"bnp-paribas",name:"BNP Paribas",region:"EU",type:"traditional"},{key:"credit-agricole",name:"Cr\xe9dit Agricole",region:"EU",type:"traditional"},{key:"societe-generale",name:"Soci\xe9t\xe9 G\xe9n\xe9rale",region:"EU",type:"traditional"},{key:"ing-bank",name:"ING Bank",region:"EU",type:"traditional"},{key:"abn-amro",name:"ABN AMRO",region:"EU",type:"traditional"},{key:"rabobank",name:"Rabobank",region:"EU",type:"traditional"},{key:"unicredit",name:"UniCredit",region:"EU",type:"traditional"},{key:"intesa-sanpaolo",name:"Intesa Sanpaolo",region:"EU",type:"traditional"},{key:"dbs-bank",name:"DBS Bank",region:"Asia",type:"traditional"},{key:"ocbc-bank",name:"OCBC Bank",region:"Asia",type:"traditional"},{key:"uob-bank",name:"UOB Bank",region:"Asia",type:"traditional"},{key:"icbc",name:"ICBC",region:"Asia",type:"traditional"},{key:"hsbc-asia",name:"HSBC Asia",region:"Asia",type:"traditional"},{key:"rbc-royal-bank",name:"RBC Royal Bank",region:"Canada",type:"traditional"},{key:"td-canada-trust",name:"TD Canada Trust",region:"Canada",type:"traditional"},{key:"scotiabank",name:"Scotiabank",region:"Canada",type:"traditional"},{key:"bmo-bank-of-montreal",name:"BMO Bank of Montreal",region:"Canada",type:"traditional"},{key:"commonwealth-bank",name:"Commonwealth Bank",region:"Australia",type:"traditional"},{key:"westpac",name:"Westpac",region:"Australia",type:"traditional"},{key:"anz-bank",name:"ANZ Bank",region:"Australia",type:"traditional"},{key:"nab-bank",name:"NAB Bank",region:"Australia",type:"traditional"},{key:"coinbase",name:"Coinbase",region:"Global",type:"crypto"},{key:"binance",name:"Binance",region:"Global",type:"crypto"},{key:"kraken",name:"Kraken",region:"Global",type:"crypto"},{key:"vanguard",name:"Vanguard",region:"Global",type:"investment"},{key:"fidelity",name:"Fidelity",region:"Global",type:"investment"},{key:"charles-schwab",name:"Charles Schwab",region:"US",type:"investment"},{key:"etrade",name:"E*TRADE",region:"US",type:"investment"},{key:"paypal",name:"PayPal",region:"Global",type:"payment"},{key:"stripe",name:"Stripe",region:"Global",type:"payment"},{key:"square",name:"Square",region:"Global",type:"payment"},{key:"quickbooks",name:"QuickBooks",region:"Global",type:"business"},{key:"xero",name:"Xero",region:"Global",type:"business"},{key:"mint",name:"Mint",region:"US",type:"business"},{key:"ynab",name:"YNAB",region:"Global",type:"business"}],E={UK:"United Kingdom",US:"United States",EU:"Europe",Canada:"Canada",Australia:"Australia",Asia:"Asia Pacific",Global:"Global Services"},M={traditional:"Traditional Banks",digital:"Digital Banks",investment:"Investment Platforms",crypto:"Cryptocurrency",payment:"Payment Services",business:"Business Software"};export{t as default};
