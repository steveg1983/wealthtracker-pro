const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/DashboardBuilder-B3_QITYt.js","assets/chunk-DowOIOga.js","assets/chunk-ddLY9KjI.js","assets/vendor-B-C1h4S3.css","assets/index-qHm2isZb.js","assets/chunk-B5pcS96K.js","assets/index-Bkln43Xj.css","assets/QueryBuilder-Dflk0u1p.js","assets/ChartWizard-BylDy8ah.js","assets/chunk-DoYVaa8Y.js"])))=>i.map(i=>d[i]);
function e(){const{transactions:e,accounts:t,budgets:a,goals:s,investments:r}=g(),{formatCurrency:n}=D(),[i,l]=d.useState("dashboards"),[c,o]=d.useState([]),[w,N]=d.useState(null),[k,M]=d.useState([]),[S,C]=d.useState(!1),[z,E]=d.useState(!1),[P,T]=d.useState(!1),[I,L]=d.useState(null),[O,Q]=d.useState([]);d.useEffect(()=>{const e=localStorage.getItem("analytics_dashboards");e&&o(JSON.parse(e));const t=localStorage.getItem("analytics_queries");t&&M(JSON.parse(t)),$()},[]);const $=async()=>{const t=[],a=_.detectSeasonalPatterns(e,"expenses");"stable"!==a.direction&&t.push({type:"trend",title:`Spending is ${a.direction}`,description:`Your spending has ${"increasing"===a.direction?"increased":"decreased"} by ${Math.abs(100*a.changeRate).toFixed(1)}% over the last 30 days`,severity:"increasing"===a.direction?"warning":"success"});const s=_.performCohortAnalysis(e,"category","amount"),r=Object.entries(s.segments).sort((e,t)=>t[1].total-e[1].total)[0];r&&t.push({type:"category",title:`Highest spending category: ${r[0]}`,description:`You've spent ${n(r[1].total)} in ${r[0]} this month`,severity:"info"}),Q(t)},V=n=>{let i=[];switch(n.dataSource){case"transactions":i=[...e];break;case"accounts":i=[...t];break;case"budgets":i=[...a];break;case"goals":i=[...s];break;case"investments":i=[...r]}return n.conditions.forEach(e=>{i=i.filter(t=>{const a=t[e.field];switch(e.operator){case"equals":return a===e.value;case"contains":return a?.toString().includes(e.value);case"greater":return parseFloat(a)>parseFloat(e.value);case"less":return parseFloat(a)<parseFloat(e.value);case"between":return parseFloat(a)>=parseFloat(e.value)&&parseFloat(a)<=parseFloat(e.value2);default:return!0}})}),n.sortBy.forEach(e=>{i.sort((t,a)=>{const s=t[e.field],r=a[e.field],n=s>r?1:s<r?-1:0;return"asc"===e.direction?n:-n})}),n.limit&&(i=i.slice(0,n.limit)),i},G=e=>{const t=[...c,e];o(t),localStorage.setItem("analytics_dashboards",JSON.stringify(t)),T(!1),N(e)},J=d.useMemo(()=>{const t=e.filter(e=>"income"===e.type).reduce((e,t)=>e+parseFloat(t.amount),0),a=e.filter(e=>"expense"===e.type).reduce((e,t)=>e+parseFloat(t.amount),0);return{totalIncome:t,totalExpenses:a,savingsRate:t>0?(t-a)/t*100:0,transactionCount:e.length}},[e]);return h.jsx(R,{title:"Analytics",children:h.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[h.jsx("div",{className:"bg-white dark:bg-gray-800 shadow-sm border-b border-gray-200 dark:border-gray-700",children:h.jsxs("div",{className:"px-6 py-4",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Analytics"}),h.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:"Professional-grade financial analytics and insights"})]}),h.jsxs("div",{className:"flex gap-2",children:[h.jsxs("button",{onClick:()=>C(!0),className:"flex items-center gap-2 px-4 py-2 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-600",children:[h.jsx(u,{size:16}),"New Query"]}),h.jsxs("button",{onClick:()=>E(!0),className:"flex items-center gap-2 px-4 py-2 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-600",children:[h.jsx(x,{size:16}),"New Chart"]}),h.jsxs("button",{onClick:()=>T(!0),className:"flex items-center gap-2 px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary/90",children:[h.jsx(m,{size:16}),"New Dashboard"]})]})]}),h.jsx("div",{className:"flex gap-6 mt-6",children:[{id:"dashboards",label:"Dashboards",icon:u},{id:"explorer",label:"Data Explorer",icon:u},{id:"insights",label:"AI Insights",icon:y},{id:"reports",label:"Reports",icon:p}].map(e=>h.jsxs("button",{onClick:()=>l(e.id),className:"flex items-center gap-2 px-4 py-2 border-b-2 transition-colors "+(i===e.id?"border-primary text-primary":"border-transparent text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white"),children:[h.jsx(e.icon,{size:18}),e.label]},e.id))})]})}),h.jsx("div",{className:"px-6 py-4",children:h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[h.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-4",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Income"}),h.jsx("p",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:n(J.totalIncome)})]}),h.jsx(b,{className:"text-green-500",size:24})]})}),h.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-4",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Expenses"}),h.jsx("p",{className:"text-2xl font-bold text-red-600 dark:text-red-400",children:n(J.totalExpenses)})]}),h.jsx(f,{className:"text-red-500",size:24})]})}),h.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-4",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Savings Rate"}),h.jsxs("p",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:[J.savingsRate.toFixed(1),"%"]})]}),h.jsx(j,{className:"text-blue-500",size:24})]})}),h.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-4",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Transactions"}),h.jsx("p",{className:"text-2xl font-bold text-purple-600 dark:text-purple-400",children:J.transactionCount})]}),h.jsx(x,{className:"text-purple-500",size:24})]})})]})}),h.jsxs("div",{className:"p-6",children:["dashboards"===i&&h.jsx("div",{children:w?h.jsxs("div",{children:[h.jsxs("div",{className:"flex items-center justify-between mb-4",children:[h.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:w.name}),h.jsx("button",{onClick:()=>N(null),className:"text-sm text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white",children:"Back to Dashboards"})]}),h.jsx(d.Suspense,{fallback:h.jsx("div",{className:"flex items-center justify-center h-64",children:"Loading dashboard..."}),children:h.jsx(B,{dashboard:w,onSave:G,onClose:()=>N(null)})})]}):h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[c.map(e=>h.jsxs("div",{onClick:()=>N(e),className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6 hover:shadow-md cursor-pointer transition-shadow",children:[h.jsxs("div",{className:"flex items-start justify-between mb-2",children:[h.jsx(u,{size:24,className:"text-primary"}),h.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:new Date(e.updatedAt).toLocaleDateString()})]}),h.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-1",children:e.name}),h.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:e.description}),h.jsxs("div",{className:"mt-4 text-xs text-gray-500 dark:text-gray-400",children:[e.widgets.length," widgets"]})]},e.id)),0===c.length&&h.jsxs("div",{className:"col-span-full text-center py-12",children:[h.jsx(u,{size:48,className:"mx-auto text-gray-400 dark:text-gray-600 mb-4"}),h.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"No dashboards yet"}),h.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"Create your first dashboard to visualize your financial data"}),h.jsxs("button",{onClick:()=>T(!0),className:"inline-flex items-center gap-2 px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary/90",children:[h.jsx(m,{size:16}),"Create Dashboard"]})]})]})}),"explorer"===i&&h.jsx("div",{children:h.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:[h.jsxs("div",{className:"flex items-center justify-between mb-4",children:[h.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Saved Queries"}),h.jsxs("button",{onClick:()=>C(!0),className:"flex items-center gap-2 px-3 py-1.5 bg-primary text-white rounded-lg hover:bg-primary/90 text-sm",children:[h.jsx(m,{size:14}),"New Query"]})]}),k.length>0?h.jsx("div",{className:"space-y-3",children:k.map(e=>h.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-700/50 rounded-lg",children:[h.jsxs("div",{children:[h.jsx("h4",{className:"font-medium text-gray-900 dark:text-white",children:e.name}),h.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[e.dataSource," \u2022 ",e.conditions.length," filters \u2022 Last run: ",e.lastRun?new Date(e.lastRun).toLocaleString():"Never"]})]}),h.jsxs("button",{onClick:()=>{const t=V(e);L(t)},className:"flex items-center gap-2 px-3 py-1.5 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-600 text-sm",children:[h.jsx(v,{size:14}),"Run"]})]},e.id))}):h.jsxs("div",{className:"text-center py-8",children:[h.jsx(u,{size:32,className:"mx-auto text-gray-400 dark:text-gray-600 mb-3"}),h.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"No saved queries yet. Create your first query to explore your data."})]}),I&&I.length>0&&h.jsxs("div",{className:"mt-6",children:[h.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-3",children:["Query Results (",I.length," rows)"]}),h.jsx("div",{className:"ag-theme-alpine-dark",style:{height:400},children:h.jsx(d.Suspense,{fallback:h.jsx("div",{className:"flex items-center justify-center h-full",children:"Loading grid..."}),children:h.jsx(F,{rowData:I,columnDefs:Object.keys(I[0]||{}).map(e=>({field:e,sortable:!0,filter:!0,resizable:!0})),defaultColDef:{flex:1,minWidth:100}})})})]})]})}),"insights"===i&&h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[O.map((e,t)=>h.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border-l-4 p-6 "+("warning"===e.severity?"border-l-amber-500":"success"===e.severity?"border-l-green-500":"border-l-blue-500"),children:h.jsxs("div",{className:"flex items-start gap-3",children:[h.jsx(y,{size:20,className:"warning"===e.severity?"text-amber-500":"success"===e.severity?"text-green-500":"text-blue-500"}),h.jsxs("div",{className:"flex-1",children:[h.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-1",children:e.title}),h.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:e.description})]})]})},t)),0===O.length&&h.jsxs("div",{className:"col-span-full text-center py-12",children:[h.jsx(y,{size:48,className:"mx-auto text-gray-400 dark:text-gray-600 mb-4"}),h.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Generating insights from your financial data..."})]})]}),"reports"===i&&h.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-8",children:h.jsxs("div",{className:"text-center",children:[h.jsx(p,{size:48,className:"mx-auto text-gray-400 dark:text-gray-600 mb-4"}),h.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"Report Generation Coming Soon"}),h.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Generate professional PDF reports with your custom dashboards and insights"})]})})]}),S&&h.jsx(d.Suspense,{fallback:h.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:"Loading..."}),children:h.jsx(q,{onSave:e=>{const t=V(e),a={...e,lastRun:new Date,results:t},s=[...k,a];M(s),localStorage.setItem("analytics_queries",JSON.stringify(s)),C(!1),L(t)},onCancel:()=>C(!1)})}),z&&I&&h.jsx(d.Suspense,{fallback:h.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:"Loading..."}),children:h.jsx(A,{data:I,onSave:e=>{E(!1)},onCancel:()=>E(!1)})}),P&&h.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:h.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:h.jsx(d.Suspense,{fallback:h.jsx("div",{className:"flex items-center justify-center h-full p-8",children:"Loading..."}),children:h.jsx(B,{onSave:G,onClose:()=>T(!1)})})})})]})})}import{_ as t}from"./chunk-ddLY9KjI.js";import{cA as a,cB as s,cC as r,cD as n,cE as i,cF as l,cG as c,cH as o,r as d,H as h}from"./chunk-DowOIOga.js";import{a as g,aw as u,B as x,$ as m,ax as y,ay as p,az as b,aA as f,T as j,al as v}from"./index-qHm2isZb.js";import{s as w,f as N,p as k,b as M,e as S,i as C,g as z,c as E}from"./chunk-B5pcS96K.js";import{u as D}from"./chunk-ByFoKVyi.js";import{P as R}from"./chunk-r7IQz9KP.js";const _=new class{calculatePeriodComparison(e,t,a,s="net",r="both"){const n=this.filterByTimeRange(e,t),i=this.filterByTimeRange(e,a),l=this.calculateMetric(n,s),c=this.calculateMetric(i,s),o=l-c;return{value:l,change:"percentage"!==r?o:void 0,changePercent:"absolute"!==r?0!==c?o/c*100:0:void 0,trend:o>0?"up":o<0?"down":"stable"}}calculateRollingWindow(e,t,a,s="net",r=new Date){const n=[];for(let i=0;i<12;i++){const l="months"===a?w(r,i):new Date(r.getTime()-i*t*24*60*60*1e3),c="months"===a?w(l,t):new Date(l.getTime()-24*t*60*60*1e3),o=this.filterByTimeRange(e,{start:c,end:l}),d=this.calculateMetric(o,s)/t;n.unshift({x:N(l,"MMM yyyy"),y:d,metadata:{periodStart:c,periodEnd:l,transactionCount:o.length}})}return n}performCohortAnalysis(e,t,a,s){const r=new Map;e.forEach(e=>{let t;switch(a){case"account":t=e.accountId;break;case"category":t=e.category||"Uncategorized";break;case"month":t=N(k(e.date),"yyyy-MM")}r.has(t)||r.set(t,[]),r.get(t).push(e)});const n=[];return r.forEach((e,t)=>{const a=[],r=new Date(Math.min(...e.map(e=>new Date(e.date).getTime())));for(let n=0;n<12;n++){const t=M(r,n),i=S(t),l=e.filter(e=>{const a=k(e.date);return C(a,{start:t,end:i})});let c=0;switch(s){case"retention":c=l.length>0?1:0;break;case"value":c=this.calculateMetric(l,"net");break;case"frequency":c=l.length}a.push({period:n,value:c})}n.push({cohort:t,periods:a})}),n}detectSeasonalPatterns(e,t="expenses"){const s=this.aggregateByPeriod(e,"month",t);if(s.length<12)return{direction:"stable",slope:0,rSquared:0,changeRate:0,seasonality:{detected:!1}};const r=s.map(e=>e.y),n=r.map((e,t)=>[t,e]),i=a.linear(n),l=r.map((e,t)=>e-i.predict(t)[1]),c=this.calculateAutocorrelation(l,12);return{direction:i.equation[0]>.01?"increasing":i.equation[0]<-.01?"decreasing":"stable",slope:i.equation[0],rSquared:i.r2,changeRate:i.equation[0]/(r[0]||1)*100,seasonality:{detected:Math.abs(c)>.3,pattern:Math.abs(c)>.3?"monthly":void 0,strength:Math.abs(c)}}}async generateForecast(e,t,i=3,l="auto"){const c=this.aggregateByPeriod(e,"month",t);if(c.length<3)throw new Error("Insufficient data for forecasting");const o=c.map((e,t)=>[t,e.y]);let d=l,h={equation:[0,0],r2:0,predict:e=>[0,0]};if("auto"===l){const e={linear:a.linear(o),exponential:a.exponential(o),polynomial:a.polynomial(o,{order:2})};let t=0;Object.entries(e).forEach(([e,a])=>{a.r2>t&&(t=a.r2,d=e,h=a)})}else switch(l){case"linear":h=a.linear(o);break;case"exponential":h=a.exponential(o);break;case"polynomial":h=a.polynomial(o,{order:2})}const g=[],u=o.length-1,x=k(c[c.length-1].x),m=o.map(([e,t])=>t-h.predict(e)[1]),y=s(m);for(let a=1;a<=i;a++){const e=u+a,t=h.predict(e)[1],s=1.96*y*Math.sqrt(1+1/o.length+Math.pow(e-r(o.map(e=>e[0])),2)/n(o.map(e=>Math.pow(e[0]-r(o.map(e=>e[0])),2))));g.push({date:M(x,a),value:Math.max(0,t),lower:Math.max(0,t-s),upper:t+s})}return{predictions:g,accuracy:h.r2,model:d,parameters:{equation:h.equation,dataPoints:o.length}}}calculateCorrelations(e,t){const a=[],s=new Map;this.getUniqueMonths(e).forEach(a=>{const r=e.filter(e=>N(k(e.date),"yyyy-MM")===a),n=new Map;if(t.includes("income")&&n.set("income",this.calculateMetric(r,"income")),t.includes("expenses")&&n.set("expenses",this.calculateMetric(r,"expenses")),t.includes("savings")){const e=this.calculateMetric(r,"income"),t=this.calculateMetric(r,"expenses");n.set("savings",e-t)}s.set(a,n)});const r=Array.from(new Set(Array.from(s.values()).flatMap(e=>Array.from(e.keys()))));for(let n=0;n<r.length;n++)for(let e=n+1;e<r.length;e++){const t=r[n],l=r[e],c=[],o=[];if(s.forEach(e=>{const a=e.get(t),s=e.get(l);void 0!==a&&void 0!==s&&(c.push(a),o.push(s))}),c.length>=3){const e=i(c,o),s=Math.abs(e);a.push({variable1:t,variable2:l,correlation:e,pValue:this.calculatePValue(e,c.length),strength:s>.7?"strong":s>.4?"moderate":s>.2?"weak":"none",direction:e>0?"positive":e<0?"negative":"none"})}}return a}executeQuery(e,t){let a=[...e];t.filters&&(a=this.applyFilters(a,t.filters)),t.timeRange&&(a=this.filterByTimeRange(a,t.timeRange));const s=t.groupBy?this.groupBy(a,t.groupBy):new Map([["all",a]]),r=[];return s.forEach((e,a)=>{const s={};t.groupBy&&(s[t.groupBy]=a),t.metrics.forEach(a=>{s[a]=this.calculateCustomMetric(e,a,t.aggregation)}),r.push(s)}),t.orderBy&&r.sort((e,a)=>{const s=e[t.orderBy.field]-a[t.orderBy.field];return"asc"===t.orderBy.direction?s:-s}),t.limit?r.slice(0,t.limit):r}filterByTimeRange(e,t){return e.filter(e=>{const a=k(e.date);return C(a,{start:t.start,end:t.end})})}calculateMetric(e,t){switch(t){case"income":return e.filter(e=>"income"===e.type).reduce((e,t)=>e+t.amount,0);case"expenses":return e.filter(e=>"expense"===e.type).reduce((e,t)=>e+t.amount,0);case"net":return this.calculateMetric(e,"income")-this.calculateMetric(e,"expenses");case"count":return e.length}}aggregateByPeriod(e,t,a){const s=new Map;e.forEach(e=>{const a=k(e.date);let r;switch(t){case"day":r=N(a,"yyyy-MM-dd");break;case"week":r=N(a,"yyyy-ww");break;case"month":r=N(a,"yyyy-MM");break;case"quarter":r=`${z(a)}-Q${E(a)}`;break;case"year":r=N(a,"yyyy")}s.has(r)||s.set(r,[]),s.get(r).push(e)});const r=[];return Array.from(s.entries()).sort((e,t)=>e[0].localeCompare(t[0])).forEach(([e,t])=>{r.push({x:e,y:this.calculateMetric(t,a)})}),r}calculateAutocorrelation(e,t){if(e.length<=t)return 0;const a=r(e),s=n(e.map(e=>Math.pow(e-a,2)))/e.length;let i=0;for(let r=0;r<e.length-t;r++)i+=(e[r]-a)*(e[r+t]-a);return i/(e.length-t)/s}calculatePValue(e,t){const a=.5*Math.log((1+e)/(1-e))/(1/Math.sqrt(t-3));return 2*(1-this.normalCDF(Math.abs(a)))}normalCDF(e){const t=e<0?-1:1,a=1/(1+.3275911*(e=Math.abs(e)/Math.sqrt(2))),s=a*a,r=s*a,n=r*a;return.5*(1+t*(1-(n*a*1.061405429+-1.453152027*n+1.421413741*r+-.284496736*s+.254829592*a)*Math.exp(-e*e)))}getUniqueMonths(e){const t=new Set;return e.forEach(e=>{t.add(N(k(e.date),"yyyy-MM"))}),Array.from(t).sort()}applyFilters(e,t){return e.filter(e=>t.every(t=>{if(t.customFunction)return t.customFunction(e);const a="custom"===t.field?null:e[t.field];switch(t.operator){case"equals":return a===t.value;case"contains":return String(a).toLowerCase().includes(String(t.value).toLowerCase());case"greater":return Number(a)>Number(t.value);case"less":return Number(a)<Number(t.value);case"between":return Number(a)>=t.value[0]&&Number(a)<=t.value[1];case"in":return Array.isArray(t.value)&&t.value.includes(a);default:return!0}}))}groupBy(e,t){const a=new Map;return e.forEach(e=>{const s=String(e[t]||"Unknown");a.has(s)||a.set(s,[]),a.get(s).push(e)}),a}calculateCustomMetric(e,t,a="sum"){if(["income","expenses","net","count"].includes(t))return this.calculateMetric(e,t);const i=e.map(e=>Number(e[t])||0);switch(a){case"sum":return n(i);case"average":return i.length>0?r(i):0;case"median":return i.length>0?o(i):0;case"min":return i.length>0?c(i):0;case"max":return i.length>0?l(i):0;case"count":return i.length;case"stddev":return i.length>1?s(i):0;default:return 0}}},B=d.lazy(()=>t(()=>import("./DashboardBuilder-B3_QITYt.js"),__vite__mapDeps([0,1,2,3,4,5,6]))),q=d.lazy(()=>t(()=>import("./QueryBuilder-Dflk0u1p.js"),__vite__mapDeps([7,1,2,3,4,5,6])).then(e=>({default:e.default,Query:e.Query}))),A=d.lazy(()=>t(()=>import("./ChartWizard-BylDy8ah.js"),__vite__mapDeps([8,1,2,3,4,5,6,9]))),F=d.lazy(()=>t(()=>import("./chunk-DowOIOga.js").then(e=>e.dj),__vite__mapDeps([1,2,3])).then(e=>({default:e.AgGridReact})));export{e as default};
