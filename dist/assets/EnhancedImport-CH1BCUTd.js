function e({onBankSelected:e,selectedBank:a,className:t}){const[l,i]=s.useState(""),[n,g]=s.useState("all"),[p,u]=s.useState("all"),[y]=s.useState("grid"),h=s.useMemo(()=>D.filter(e=>{const a=""===l||e.name.toLowerCase().includes(l.toLowerCase())||e.key.toLowerCase().includes(l.toLowerCase()),t="all"===n||e.region===n,s="all"===p||e.type===p;return a&&t&&s}),[l,n,p]),b=s.useMemo(()=>{const e={};return h.forEach(a=>{const t="all"!==n?M[a.type]:E[a.region];e[t]||(e[t]=[]),e[t].push(a)}),e},[h,n]),k=a=>{e(a.key,a.name)};return r.jsxs("div",{className:`bank-format-selector ${t||""}`,children:[r.jsxs("div",{className:"space-y-4 mb-6",children:[r.jsxs("div",{className:"relative",children:[r.jsx(d,{size:20,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),r.jsx("input",{type:"text",placeholder:"Search banks, payment services, or investment platforms...",value:l,onChange:e=>i(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white"})]}),r.jsxs("div",{className:"flex flex-wrap gap-4",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(o,{size:16,className:"text-gray-500"}),r.jsxs("select",{value:n,onChange:e=>g(e.target.value),className:"px-3 py-1 border border-gray-300 dark:border-gray-600 rounded focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white text-sm",children:[r.jsx("option",{value:"all",children:"All Regions"}),Object.entries(E).map(([e,a])=>r.jsx("option",{value:e,children:a},e))]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(c,{size:16,className:"text-gray-500"}),r.jsxs("select",{value:p,onChange:e=>u(e.target.value),className:"px-3 py-1 border border-gray-300 dark:border-gray-600 rounded focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white text-sm",children:[r.jsx("option",{value:"all",children:"All Types"}),Object.entries(M).map(([e,a])=>r.jsx("option",{value:e,children:a},e))]})]})]})]}),r.jsxs("div",{className:"space-y-6",children:[Object.entries(b).map(([e,t])=>r.jsxs("div",{children:[r.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-3",children:[e," (",t.length,")"]}),"grid"===y?r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-3",children:t.map(e=>{const t=a===e.key;return r.jsx("button",{onClick:()=>k(e),className:"p-4 rounded-lg border-2 text-left transition-all hover:shadow-md "+(t?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":"border-gray-200 dark:border-gray-600 hover:border-gray-300 dark:hover:border-gray-500"),children:r.jsxs("div",{className:"flex items-start justify-between mb-2",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("h4",{className:"font-medium text-gray-900 dark:text-white text-sm",children:e.name}),r.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:[e.region," \u2022 ",M[e.type]]})]}),t&&r.jsx(m,{size:16,className:"text-blue-500 flex-shrink-0"})]})},e.key)})}):r.jsx("div",{className:"space-y-2",children:t.map(e=>{const t=a===e.key;return r.jsxs("button",{onClick:()=>k(e),className:"w-full p-3 rounded-lg border text-left transition-all flex items-center justify-between "+(t?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":"border-gray-200 dark:border-gray-600 hover:border-gray-300 dark:hover:border-gray-500"),children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-gray-900 dark:text-white",children:e.name}),r.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:[e.region," \u2022 ",M[e.type]]})]}),t&&r.jsx(m,{size:20,className:"text-blue-500"})]},e.key)})})]},e)),0===h.length&&r.jsxs("div",{className:"text-center py-8",children:[r.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"No banks found matching your search criteria."}),r.jsx("button",{onClick:()=>{i(""),g("all"),u("all")},className:"mt-2 text-blue-500 hover:text-blue-600 text-sm",children:"Clear filters"})]})]}),r.jsx("div",{className:"mt-6 pt-6 border-t border-gray-200 dark:border-gray-700",children:r.jsxs("button",{onClick:()=>e("custom","Custom Format"),className:"w-full p-4 rounded-lg border-2 border-dashed text-center transition-all "+("custom"===a?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":"border-gray-300 dark:border-gray-600 hover:border-gray-400 dark:hover:border-gray-500"),children:[r.jsxs("div",{className:"flex items-center justify-center gap-2",children:[r.jsx(x,{size:20,className:"text-gray-500"}),r.jsx("span",{className:"font-medium text-gray-700 dark:text-gray-300",children:"Custom Format (Manual Mapping)"})]}),r.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:"Set up custom column mappings for unsupported formats"})]})})]})}function a({isOpen:a,onClose:t}){const{accounts:n,transactions:d,addTransaction:o,categories:c,hasTestData:x,clearAllData:S}=g(),[B,I]=s.useState("files"),[D,E]=s.useState([]),[M,R]=s.useState(""),[T,K]=s.useState([]),[P,O]=s.useState(!1),[G,q]=s.useState(null);s.useState(!1);const[L,W]=s.useState(!1),[H,V]=s.useState(-1),X=e=>{switch(e.toLowerCase().split(".").pop()){case"csv":return"csv";case"ofx":return"ofx";case"qif":return"qif";default:return"unknown"}},$=e=>e<1024?e+" bytes":e<1048576?Math.round(e/1024)+" KB":Math.round(e/1048576)+" MB",Q=s.useCallback(e=>{const a=Array.from(e.target.files||[]).map(e=>({file:e,name:e.name,size:$(e.size),type:X(e.name),status:"pending"})),t=a.filter(e=>"unknown"!==e.type),s=a.filter(e=>"unknown"===e.type);s.length>0&&alert(`Unsupported file types: ${s.map(e=>e.name).join(", ")}`),E(e=>[...e,...t])},[]),Y=s.useCallback(e=>{e.preventDefault();const a=Array.from(e.dataTransfer.files).map(e=>({file:e,name:e.name,size:$(e.size),type:X(e.name),status:"pending"})),t=a.filter(e=>"unknown"!==e.type),s=a.filter(e=>"unknown"===e.type);s.length>0&&alert(`Unsupported file types: ${s.map(e=>e.name).join(", ")}`),E(e=>[...e,...t])},[]),Z=(e,a)=>{if(R(e),"custom"!==e){const a=z.getBankMappings(e);K(a)}},_=async()=>{if(x&&!L)return void W(!0);O(!0),I("result");let e=0,a=0,t=0;try{for(let r=0;r<D.length;r++){const l=D[r];V(r),E(e=>e.map((e,a)=>a===r?{...e,status:"processing"}:e));try{const s=await l.file.text();let m=0,x=0;switch(l.type){case"csv":{const e=z.parseCSV(s),a=M&&"custom"!==M?z.getBankMappings(M):T,t=z.generatePreview(e.data,a).transactions.map(e=>i.applyRules(e)).filter(e=>null!==e);for(const s of t){const e=d.some(e=>e.date===s.date&&e.amount===s.amount&&e.description===s.description);!e&&s.date&&void 0!==s.amount&&s.type&&s.category&&s.accountId&&void 0!==s.description?(o({date:s.date,amount:s.amount,type:s.type,category:s.category,accountId:s.accountId,description:s.description,merchant:s.merchant,tags:s.tags||[],notes:s.notes}),m++):e?x++:console.warn("Skipping transaction with missing required fields:",s)}break}case"ofx":{const e=await U.importTransactions(s,n,d,{categories:c,autoCategorize:!0});for(const a of e.transactions)o(a),m++;x=e.duplicates;break}case"qif":{const e=await A.importTransactions(s,n[0]?.id||"",d,{categories:c,autoCategorize:!0});for(const a of e.transactions)o(a),m++;x=e.duplicates;break}}E(e=>e.map((e,a)=>a===r?{...e,status:"success",imported:m,duplicates:x}:e)),e+=m,a+=x,t++}catch(s){console.error(`Error processing file ${l.name}:`,s),E(e=>e.map((e,a)=>a===r?{...e,status:"error",error:s instanceof Error?s.message:"Unknown error"}:e))}}q({totalFiles:D.length,successfulFiles:t,totalTransactions:e,totalDuplicates:a})}finally{O(!1),V(-1)}};return r.jsxs(r.Fragment,{children:[r.jsxs(p,{isOpen:a,onClose:t,title:"Enhanced Import Wizard",size:"xl",children:[r.jsxs(u,{children:[r.jsx("div",{className:"mb-6",children:r.jsx("div",{className:"flex items-center justify-between mb-4",children:["files","format","rules","result"].map((e,a)=>{const t=a+1,s=B===e,i=["files","format","rules","result"].indexOf(B)>a;return r.jsxs(l.Fragment,{children:[r.jsxs("div",{className:"flex items-center gap-2 "+(s?"text-blue-600 dark:text-blue-400":i?"text-green-600 dark:text-green-400":"text-gray-400 dark:text-gray-600"),children:[r.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium "+(s?"bg-blue-600 text-white":i?"bg-green-600 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-600 dark:text-gray-400"),children:i?r.jsx(m,{size:16}):t}),r.jsx("span",{className:"text-sm font-medium capitalize hidden sm:inline",children:"files"===e?"Select Files":"format"===e?"Bank Format":"rules"===e?"Import Rules":"Results"})]}),a<3&&r.jsx("div",{className:"flex-1 h-0.5 mx-2 "+(i?"bg-green-600":"bg-gray-200 dark:bg-gray-700")})]},e)})})}),(()=>{switch(B){case"files":return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"Select Files to Import"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"Choose CSV, OFX, or QIF files from your bank or financial institution."})]}),r.jsxs("div",{onDrop:Y,onDragOver:e=>e.preventDefault(),className:"border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg p-8 text-center hover:border-gray-400 dark:hover:border-gray-500 transition-colors",children:[r.jsx(w,{size:48,className:"mx-auto mb-4 text-gray-400"}),r.jsx("p",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"Drag and drop files here"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"or click to browse"}),r.jsx("input",{type:"file",multiple:!0,accept:".csv,.ofx,.qif",onChange:Q,className:"hidden",id:"file-input"}),r.jsxs("label",{htmlFor:"file-input",className:"inline-flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 cursor-pointer",children:[r.jsx(C,{size:16}),"Choose Files"]})]}),D.length>0&&r.jsxs("div",{className:"space-y-3",children:[r.jsxs("h4",{className:"font-medium text-gray-900 dark:text-white",children:["Selected Files (",D.length,")"]}),r.jsx("div",{className:"space-y-2",children:D.map((e,a)=>r.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(v,{size:20,className:"text-blue-600 dark:text-blue-400"}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:e.name}),r.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[e.size," \u2022 ",e.type.toUpperCase()]})]})]}),r.jsx("button",{onClick:()=>(e=>{E(D.filter((a,t)=>t!==e))})(a),className:"p-1 text-red-600 hover:text-red-800 dark:text-red-400 dark:hover:text-red-300",children:r.jsx(N,{size:16})})]},a))})]})]});case"format":return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"Select Bank Format"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"Choose your bank or financial institution to automatically map columns."})]}),r.jsx(e,{onBankSelected:Z,selectedBank:M})]});case"rules":return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"Import Rules & Transformations"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"Set up rules to automatically categorize and transform your imported transactions."})]}),r.jsx(F,{})]});case"result":return r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{children:r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"Import Results"})}),P?r.jsxs("div",{className:"text-center py-8",children:[r.jsxs("div",{className:"inline-flex items-center gap-3 mb-4",children:[r.jsx(b,{size:24,className:"animate-spin text-blue-600"}),r.jsx("span",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Processing Files..."})]}),H>=0&&r.jsxs("p",{className:"text-gray-600 dark:text-gray-400",children:["Processing ",D[H]?.name," (",H+1," of ",D.length,")"]})]}):G?r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[r.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-4 rounded-lg",children:[r.jsx("p",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:G.totalFiles}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Files Processed"})]}),r.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 p-4 rounded-lg",children:[r.jsx("p",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:G.successfulFiles}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Successful"})]}),r.jsxs("div",{className:"bg-purple-50 dark:bg-purple-900/20 p-4 rounded-lg",children:[r.jsx("p",{className:"text-2xl font-bold text-purple-600 dark:text-purple-400",children:G.totalTransactions}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Imported"})]}),r.jsxs("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 p-4 rounded-lg",children:[r.jsx("p",{className:"text-2xl font-bold text-yellow-600 dark:text-yellow-400",children:G.totalDuplicates}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Duplicates"})]})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsx("h4",{className:"font-medium text-gray-900 dark:text-white",children:"File Details"}),D.map((e,a)=>r.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg "+("success"===e.status?"bg-green-50 dark:bg-green-900/20":"error"===e.status?"bg-red-50 dark:bg-red-900/20":"bg-gray-50 dark:bg-gray-700"),children:[r.jsxs("div",{className:"flex items-center gap-3",children:["success"===e.status?r.jsx(m,{size:20,className:"text-green-600 dark:text-green-400"}):"error"===e.status?r.jsx(N,{size:20,className:"text-red-600 dark:text-red-400"}):r.jsx(v,{size:20,className:"text-gray-600 dark:text-gray-400"}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:e.name}),e.error&&r.jsx("p",{className:"text-sm text-red-600 dark:text-red-400",children:e.error})]})]}),"success"===e.status&&r.jsxs("div",{className:"text-right",children:[r.jsxs("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:[e.imported," imported"]}),e.duplicates&&e.duplicates>0&&r.jsxs("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:[e.duplicates," duplicates"]})]})]},a))]})]}):null]});default:return null}})()]}),r.jsx(y,{children:r.jsxs("div",{className:"flex justify-between w-full",children:[r.jsx("div",{children:"files"!==B&&"result"!==B&&r.jsxs("button",{onClick:()=>I((()=>{switch(B){case"format":default:return"files";case"rules":return"format";case"result":return"rules"}})()),className:"flex items-center gap-2 px-4 py-2 text-gray-700 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white",children:[r.jsx(h,{size:16}),"Back"]})}),r.jsxs("div",{className:"flex gap-3",children:["result"===B&&r.jsxs("button",{onClick:()=>{I("files"),E([]),R(""),K([]),q(null),W(!1)},className:"flex items-center gap-2 px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700",children:[r.jsx(b,{size:16}),"Import More"]}),r.jsx("button",{onClick:t,className:"px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700",children:"result"===B?"Done":"Cancel"}),"result"!==B&&r.jsx("button",{onClick:()=>{"rules"===B?_():I((()=>{switch(B){case"files":return"format";case"format":return"rules";case"rules":return"result";default:return"files"}})())},disabled:!(()=>{switch(B){case"files":return D.length>0;case"format":return""!==M;case"rules":return!0;default:return!1}})(),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:"rules"===B?r.jsxs(r.Fragment,{children:[r.jsx(k,{size:16}),"Start Import"]}):r.jsxs(r.Fragment,{children:["Next",r.jsx(j,{size:16})]})})]})]})})]}),L&&r.jsxs(p,{isOpen:!0,onClose:()=>W(!1),title:"Test Data Detected",size:"md",children:[r.jsx(u,{children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx(f,{size:24,className:"text-yellow-600 dark:text-yellow-400 flex-shrink-0 mt-1"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-900 dark:text-white mb-2",children:"Test data has been detected in your application. Importing real transaction data will mix with test data."}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Would you like to clear all test data before importing your real transactions?"})]})]})}),r.jsx(y,{children:r.jsxs("div",{className:"flex gap-3 w-full justify-end",children:[r.jsx("button",{onClick:()=>{W(!1),_()},className:"px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700",children:"Keep Test Data"}),r.jsx("button",{onClick:()=>{S(),W(!1),_()},className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700",children:"Clear Test Data"})]})})]})]})}function t(){const[e,t]=s.useState(!1),[l,d]=s.useState(!1),[c,m]=s.useState(!1),g=i.getRules().filter(e=>e.enabled),p=["Barclays","HSBC","Lloyds","NatWest","Santander","Monzo","Starling","Chase","Bank of America","Wells Fargo","Citibank","Deutsche Bank","BNP Paribas","ING Bank","UniCredit","DBS Bank","OCBC Bank","Commonwealth Bank","ANZ Bank","Coinbase","Binance","Vanguard","Fidelity","PayPal"];return r.jsxs(n,{title:"Enhanced Import",children:[r.jsxs("div",{className:"max-w-6xl mx-auto",children:[r.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 dark:from-blue-800 dark:to-indigo-800 rounded-2xl p-6 mb-6 text-white shadow-lg",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Enhanced Import"}),r.jsx("p",{className:"text-blue-100",children:"Advanced file import with batch processing, smart bank format detection, and automated rules"})]}),r.jsx("div",{className:"flex items-center gap-4",children:r.jsx(w,{size:48,className:"text-white/80"})})]})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(o,{size:20,className:"text-blue-600 dark:text-blue-400"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Supported Banks"}),r.jsxs("p",{className:"font-semibold text-gray-900 dark:text-white",children:[p.length,"+"]})]})]})}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(v,{size:20,className:"text-green-600 dark:text-green-400"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"File Formats"}),r.jsx("p",{className:"font-semibold text-gray-900 dark:text-white",children:"CSV, OFX, QIF"})]})]})}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(S,{size:20,className:"text-purple-600 dark:text-purple-400"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Import Rules"}),r.jsxs("p",{className:"font-semibold text-gray-900 dark:text-white",children:[g.length," active"]})]})]})}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(b,{size:20,className:"text-orange-600 dark:text-orange-400"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Auto Processing"}),r.jsx("p",{className:"font-semibold text-gray-900 dark:text-white",children:"Smart Detection"})]})]})})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm p-6",children:r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsx("div",{className:"w-12 h-12 bg-blue-100 dark:bg-blue-900/30 rounded-lg flex items-center justify-center",children:r.jsx(w,{size:24,className:"text-blue-600 dark:text-blue-400"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"Enhanced Import Wizard"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"Step-by-step guided import with automatic bank format detection, column mapping, and rule application."}),r.jsxs("ul",{className:"text-sm text-gray-600 dark:text-gray-400 space-y-1 mb-4",children:[r.jsxs("li",{className:"flex items-center gap-2",children:[r.jsx(B,{size:14,className:"text-green-600"}),"Automatic bank format detection"]}),r.jsxs("li",{className:"flex items-center gap-2",children:[r.jsx(B,{size:14,className:"text-green-600"}),"Smart column mapping"]}),r.jsxs("li",{className:"flex items-center gap-2",children:[r.jsx(B,{size:14,className:"text-green-600"}),"Rule-based transformations"]}),r.jsxs("li",{className:"flex items-center gap-2",children:[r.jsx(B,{size:14,className:"text-green-600"}),"Duplicate detection"]})]}),r.jsxs("button",{onClick:()=>t(!0),className:"w-full flex items-center justify-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[r.jsx(k,{size:16}),"Start Enhanced Import"]})]})]})}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm p-6",children:r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsx("div",{className:"w-12 h-12 bg-green-100 dark:bg-green-900/30 rounded-lg flex items-center justify-center",children:r.jsx(C,{size:24,className:"text-green-600 dark:text-green-400"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"Batch File Import"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"Import multiple files at once with parallel processing and comprehensive error handling."}),r.jsxs("ul",{className:"text-sm text-gray-600 dark:text-gray-400 space-y-1 mb-4",children:[r.jsxs("li",{className:"flex items-center gap-2",children:[r.jsx(B,{size:14,className:"text-green-600"}),"Multiple file processing"]}),r.jsxs("li",{className:"flex items-center gap-2",children:[r.jsx(B,{size:14,className:"text-green-600"}),"Drag and drop support"]}),r.jsxs("li",{className:"flex items-center gap-2",children:[r.jsx(B,{size:14,className:"text-green-600"}),"Progress tracking"]}),r.jsxs("li",{className:"flex items-center gap-2",children:[r.jsx(B,{size:14,className:"text-green-600"}),"Error recovery"]})]}),r.jsxs("button",{onClick:()=>d(!0),className:"w-full flex items-center justify-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[r.jsx(C,{size:16}),"Start Batch Import"]})]})]})})]}),r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm p-6 mb-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-1",children:"Import Rules & Transformations"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Automate transaction categorization and data transformation during import."})]}),r.jsxs("button",{onClick:()=>m(!0),className:"flex items-center gap-2 px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors",children:[r.jsx(x,{size:16}),"Manage Rules"]})]}),g.length>0?r.jsxs("div",{className:"space-y-2",children:[r.jsxs("p",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:["Active Rules (",g.length,"):"]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:g.slice(0,6).map(e=>r.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-3",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[r.jsx(S,{size:14,className:"text-purple-600 dark:text-purple-400"}),r.jsx("span",{className:"font-medium text-gray-900 dark:text-white text-sm",children:e.name})]}),r.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:e.description||"No description"})]},e.id))}),g.length>6&&r.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-2",children:["And ",g.length-6," more rules..."]})]}):r.jsxs("div",{className:"text-center py-6",children:[r.jsx(S,{size:48,className:"mx-auto mb-3 text-gray-400"}),r.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-2",children:"No import rules configured yet"}),r.jsx("p",{className:"text-sm text-gray-400",children:"Create rules to automatically categorize and transform imported transactions"})]})]}),r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm p-6",children:[r.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:["Supported Bank Formats (",p.length,"+)"]}),r.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-3",children:p.map((e,a)=>r.jsxs("div",{className:"flex items-center gap-2 p-2 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[r.jsx(o,{size:14,className:"text-blue-600 dark:text-blue-400 flex-shrink-0"}),r.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300 truncate",children:e})]},a))}),r.jsx("div",{className:"mt-4 p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx(f,{size:20,className:"text-blue-600 dark:text-blue-400 flex-shrink-0 mt-0.5"}),r.jsxs("div",{className:"text-sm",children:[r.jsx("p",{className:"text-blue-900 dark:text-blue-100 font-medium mb-1",children:"Don't see your bank?"}),r.jsx("p",{className:"text-blue-800 dark:text-blue-200",children:'Use the "Custom Format" option to manually map columns for any CSV file format. You can also create import rules to transform data from any financial institution.'})]})]})})]})]}),r.jsx(a,{isOpen:e,onClose:()=>t(!1)}),r.jsx(I,{isOpen:l,onClose:()=>d(!1)}),c&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl w-full max-w-4xl max-h-[80vh] overflow-hidden",children:[r.jsx("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Import Rules Manager"}),r.jsx("button",{onClick:()=>m(!1),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-600 rounded-lg transition-colors",children:r.jsx(f,{size:20,className:"text-gray-500 dark:text-gray-400"})})]})}),r.jsx("div",{className:"p-6 overflow-y-auto max-h-[60vh]",children:r.jsx(F,{})})]})})]})}import{r as s,H as r,bU as l}from"./chunk-DowOIOga.js";import{i}from"./chunk-BUNwFMNM.js";import{P as n}from"./chunk-r7IQz9KP.js";import{I as d,aR as o,a1 as c,x as m,r as x,a as g,M as p,d as u,e as y,L as h,ac as b,al as k,N as j,aa as f,X as N,aH as v,aY as w,aX as C,a_ as S,v as B}from"./index-qHm2isZb.js";import{e as z}from"./chunk-5nUEduVz.js";import{o as U}from"./chunk-BfKHasoP.js";import{q as A}from"./chunk-tZvAe11p.js";import F from"./ImportRulesManager-C3Ynnh9P.js";import I from"./BatchImportModal-CuigJSg2.js";import"./chunk-ddLY9KjI.js";import"./chunk-B5pcS96K.js";import"./chunk-CkYa08k9.js";const D=[{key:"barclays",name:"Barclays",region:"UK",type:"traditional"},{key:"hsbc",name:"HSBC",region:"UK",type:"traditional"},{key:"lloyds",name:"Lloyds Bank",region:"UK",type:"traditional"},{key:"natwest",name:"NatWest",region:"UK",type:"traditional"},{key:"santander",name:"Santander UK",region:"UK",type:"traditional"},{key:"tsb",name:"TSB Bank",region:"UK",type:"traditional"},{key:"halifax",name:"Halifax",region:"UK",type:"traditional"},{key:"nationwide",name:"Nationwide",region:"UK",type:"traditional"},{key:"first-direct",name:"First Direct",region:"UK",type:"traditional"},{key:"monzo",name:"Monzo",region:"UK",type:"digital"},{key:"starling",name:"Starling Bank",region:"UK",type:"digital"},{key:"revolut",name:"Revolut",region:"UK",type:"digital"},{key:"n26",name:"N26",region:"EU",type:"digital"},{key:"chase",name:"Chase Bank",region:"US",type:"traditional"},{key:"bank-of-america",name:"Bank of America",region:"US",type:"traditional"},{key:"wells-fargo",name:"Wells Fargo",region:"US",type:"traditional"},{key:"citibank",name:"Citibank",region:"US",type:"traditional"},{key:"td-bank",name:"TD Bank",region:"US",type:"traditional"},{key:"deutsche-bank",name:"Deutsche Bank",region:"EU",type:"traditional"},{key:"bnp-paribas",name:"BNP Paribas",region:"EU",type:"traditional"},{key:"credit-agricole",name:"Cr\xe9dit Agricole",region:"EU",type:"traditional"},{key:"societe-generale",name:"Soci\xe9t\xe9 G\xe9n\xe9rale",region:"EU",type:"traditional"},{key:"ing-bank",name:"ING Bank",region:"EU",type:"traditional"},{key:"abn-amro",name:"ABN AMRO",region:"EU",type:"traditional"},{key:"rabobank",name:"Rabobank",region:"EU",type:"traditional"},{key:"unicredit",name:"UniCredit",region:"EU",type:"traditional"},{key:"intesa-sanpaolo",name:"Intesa Sanpaolo",region:"EU",type:"traditional"},{key:"dbs-bank",name:"DBS Bank",region:"Asia",type:"traditional"},{key:"ocbc-bank",name:"OCBC Bank",region:"Asia",type:"traditional"},{key:"uob-bank",name:"UOB Bank",region:"Asia",type:"traditional"},{key:"icbc",name:"ICBC",region:"Asia",type:"traditional"},{key:"hsbc-asia",name:"HSBC Asia",region:"Asia",type:"traditional"},{key:"rbc-royal-bank",name:"RBC Royal Bank",region:"Canada",type:"traditional"},{key:"td-canada-trust",name:"TD Canada Trust",region:"Canada",type:"traditional"},{key:"scotiabank",name:"Scotiabank",region:"Canada",type:"traditional"},{key:"bmo-bank-of-montreal",name:"BMO Bank of Montreal",region:"Canada",type:"traditional"},{key:"commonwealth-bank",name:"Commonwealth Bank",region:"Australia",type:"traditional"},{key:"westpac",name:"Westpac",region:"Australia",type:"traditional"},{key:"anz-bank",name:"ANZ Bank",region:"Australia",type:"traditional"},{key:"nab-bank",name:"NAB Bank",region:"Australia",type:"traditional"},{key:"coinbase",name:"Coinbase",region:"Global",type:"crypto"},{key:"binance",name:"Binance",region:"Global",type:"crypto"},{key:"kraken",name:"Kraken",region:"Global",type:"crypto"},{key:"vanguard",name:"Vanguard",region:"Global",type:"investment"},{key:"fidelity",name:"Fidelity",region:"Global",type:"investment"},{key:"charles-schwab",name:"Charles Schwab",region:"US",type:"investment"},{key:"etrade",name:"E*TRADE",region:"US",type:"investment"},{key:"paypal",name:"PayPal",region:"Global",type:"payment"},{key:"stripe",name:"Stripe",region:"Global",type:"payment"},{key:"square",name:"Square",region:"Global",type:"payment"},{key:"quickbooks",name:"QuickBooks",region:"Global",type:"business"},{key:"xero",name:"Xero",region:"Global",type:"business"},{key:"mint",name:"Mint",region:"US",type:"business"},{key:"ynab",name:"YNAB",region:"Global",type:"business"}],E={UK:"United Kingdom",US:"United States",EU:"Europe",Canada:"Canada",Australia:"Australia",Asia:"Asia Pacific",Global:"Global Services"},M={traditional:"Traditional Banks",digital:"Digital Banks",investment:"Investment Platforms",crypto:"Cryptocurrency",payment:"Payment Services",business:"Business Software"};export{t as default};
