function e(){const{tags:e,addTag:m,updateTag:h,deleteTag:b,getTagUsageCount:u,getAllUsedTags:p}=r(),[y,j]=c.useState(!1),[k,f]=c.useState(null),[N,v]=c.useState({name:"",color:"#3B82F6",description:""}),[w,T]=c.useState({}),C=p().filter(r=>!e.some(e=>e.name===r));return c.useEffect(()=>{C.forEach(e=>{m({name:e,color:"#6B7280",description:"Auto-created from transaction"})})},[m,C]),a.jsxs(g,{title:"Tags",rightContent:a.jsx(x,{onClick:()=>j(!0),icon:a.jsx(o,{size:16}),variant:"ghost",size:"sm",className:"text-red-500 hover:text-red-700",title:"Add Tag"}),children:[y&&a.jsxs("div",{className:"bg-white/70 dark:bg-gray-800/70 backdrop-blur-xl rounded-2xl shadow-lg border border-white/20 dark:border-gray-700/50 p-6 mb-6",children:[a.jsx("h2",{className:"text-xl font-semibold text-blue-800 dark:text-white mb-4",children:k?"Edit Tag":"Add New Tag"}),a.jsxs("form",{onSubmit:r=>{r.preventDefault(),T({});const a={};N.name.trim()?e.some(e=>e.name.toLowerCase()===N.name.toLowerCase()&&e.id!==k)&&(a.name="Tag name already exists"):a.name="Tag name is required",Object.keys(a).length>0?T(a):(k?h(k,{name:N.name.trim(),color:N.color,description:N.description.trim()}):m({name:N.name.trim(),color:N.color,description:N.description.trim()}),v({name:"",color:"#3B82F6",description:""}),j(!1),f(null))},className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Tag Name"}),a.jsx("input",{type:"text",value:N.name,onChange:e=>v({...N,name:e.target.value}),className:"w-full px-3 py-2 bg-white/70 dark:bg-gray-800/70 backdrop-blur-sm border rounded-xl focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent dark:text-white "+(w.name?"border-red-500/50":"border-gray-300/50 dark:border-gray-600/50"),placeholder:"Enter tag name"}),w.name&&a.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:w.name})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Color"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"color",value:N.color,onChange:e=>v({...N,color:e.target.value}),className:"w-12 h-10 border border-gray-300 dark:border-gray-600 rounded-lg cursor-pointer"}),a.jsx("div",{className:"flex gap-1",children:["#3B82F6","#EF4444","#10B981","#F59E0B","#8B5CF6","#EC4899","#06B6D4","#84CC16","#F97316","#6B7280"].map(e=>a.jsx("button",{type:"button",onClick:()=>v({...N,color:e}),className:"w-8 h-8 rounded-lg border-2 "+(N.color===e?"border-gray-900 dark:border-white":"border-gray-300 dark:border-gray-600"),style:{backgroundColor:e}},e))})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Description (optional)"}),a.jsx("textarea",{value:N.description,onChange:e=>v({...N,description:e.target.value}),className:"w-full px-3 py-2 bg-white/70 dark:bg-gray-800/70 backdrop-blur-sm border border-gray-300/50 dark:border-gray-600/50 rounded-xl focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent dark:text-white",rows:3,placeholder:"Enter tag description"})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsxs("button",{type:"submit",className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-2xl hover:bg-blue-700 transition-colors",children:[a.jsx(t,{size:16,color:"white"}),k?"Update Tag":"Add Tag"]}),a.jsxs("button",{type:"button",onClick:()=>{v({name:"",color:"#3B82F6",description:""}),j(!1),f(null),T({})},className:"flex items-center gap-2 px-4 py-2 bg-gray-500 text-white rounded-2xl hover:bg-gray-600 transition-colors",children:[a.jsx(s,{size:16,color:"white"}),"Cancel"]})]})]})]}),a.jsxs("div",{className:"bg-white/70 dark:bg-gray-800/70 backdrop-blur-xl rounded-2xl shadow-lg border border-white/20 dark:border-gray-700/50",children:[a.jsx("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:a.jsxs("h2",{className:"text-lg font-semibold text-blue-800 dark:text-white",children:["All Tags (",e.length,")"]})}),0===e.length?a.jsxs("div",{className:"p-8 text-center",children:[a.jsx(d,{className:"mx-auto text-gray-400 mb-4",size:48}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"No tags yet"}),a.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-4",children:"Create your first tag to start organizing your transactions"})]}):a.jsx("div",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:e.map(r=>{const t=u(r.name);return a.jsx("div",{className:"p-4 hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:r.color}}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-gray-900 dark:text-white",children:r.name}),r.description&&a.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:r.description})]})]}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:[t," transaction",1!==t?"s":""]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(x,{onClick:()=>(e=>{v({name:e.name,color:e.color||"#3B82F6",description:e.description||""}),f(e.id),j(!0)})(r),icon:a.jsx(i,{size:16}),variant:"ghost",size:"sm",className:"text-gray-500 hover:text-gray-700"}),a.jsx(x,{onClick:()=>(r=>{const a=e.find(e=>e.id===r);if(!a)return;const t=u(a.name);t>0&&!window.confirm(`This tag is used in ${t} transaction(s). Are you sure you want to delete it?`)||b(r)})(r.id),icon:a.jsx(l,{size:16}),variant:"ghost",size:"sm",className:"text-gray-500 hover:text-gray-700"})]})]})]})},r.id)})})]}),e.length>0&&a.jsxs("div",{className:"mt-6 bg-white dark:bg-gray-800 rounded-2xl shadow p-6",children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center gap-2",children:[a.jsx(n,{size:20}),"Tag Usage Statistics"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{className:"text-center p-4 bg-blue-50 dark:bg-blue-900/20 rounded-2xl",children:[a.jsx("div",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:e.length}),a.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Tags"})]}),a.jsxs("div",{className:"text-center p-4 bg-green-50 dark:bg-green-900/20 rounded-2xl",children:[a.jsx("div",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:e.filter(e=>u(e.name)>0).length}),a.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Used Tags"})]}),a.jsxs("div",{className:"text-center p-4 bg-orange-50 dark:bg-orange-900/20 rounded-2xl",children:[a.jsx("div",{className:"text-2xl font-bold text-orange-600 dark:text-orange-400",children:e.filter(e=>0===u(e.name)).length}),a.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Unused Tags"})]})]})]})]})}import{g as r,j as a,_ as t,X as s,bf as d,Q as i,V as l,ar as n,ag as o}from"./index-CgJz7Gw0.js";import{a as c}from"./chunk-BWx9oMeS.js";import{I as x}from"./chunk-BHc6RLfP.js";import{P as g}from"./chunk-DLeAFLQD.js";import"./chunk-BN8kgYrt.js";import"./chunk-C1eKK5Oc.js";export{e as default};
